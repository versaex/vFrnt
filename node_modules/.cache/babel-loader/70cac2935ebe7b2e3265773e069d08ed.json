{"ast":null,"code":"import aliases from './aliases';\nimport parentLocales from './parentLocales';\nimport { invariant } from './invariant';\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function toObject(arg) {\n  if (arg == null) {\n    throw new TypeError('undefined/null cannot be converted to object');\n  }\n  return Object(arg);\n}\n/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function toString(o) {\n  // Only symbol is irregular...\n  if (typeof o === 'symbol') {\n    throw TypeError('Cannot convert a Symbol value to a string');\n  }\n  return String(o);\n}\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function getOption(opts, prop, type, values, fallback) {\n  // const descriptor = Object.getOwnPropertyDescriptor(opts, prop);\n  var value = opts[prop];\n  if (value !== undefined) {\n    if (type !== 'boolean' && type !== 'string') {\n      throw new TypeError('invalid type');\n    }\n    if (type === 'boolean') {\n      value = Boolean(value);\n    }\n    if (type === 'string') {\n      value = toString(value);\n    }\n    if (values !== undefined && !values.filter(function (val) {\n      return val == value;\n    }).length) {\n      throw new RangeError(value + \" is not within \" + values.join(', '));\n    }\n    return value;\n  }\n  return fallback;\n}\n/**\n * https://tc39.es/ecma402/#sec-defaultnumberoption\n * @param val\n * @param min\n * @param max\n * @param fallback\n */\nexport function defaultNumberOption(val, min, max, fallback) {\n  if (val !== undefined) {\n    val = Number(val);\n    if (isNaN(val) || val < min || val > max) {\n      throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n    }\n    return Math.floor(val);\n  }\n  return fallback;\n}\n/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nexport function getNumberOption(options, property, minimum, maximum, fallback) {\n  var val = options[property];\n  return defaultNumberOption(val, minimum, maximum, fallback);\n}\nexport function getAliasesByLang(lang) {\n  return Object.keys(aliases).reduce(function (all, locale) {\n    if (locale.split('-')[0] === lang) {\n      all[locale] = aliases[locale];\n    }\n    return all;\n  }, {});\n}\nexport function getParentLocalesByLang(lang) {\n  return Object.keys(parentLocales).reduce(function (all, locale) {\n    if (locale.split('-')[0] === lang) {\n      all[locale] = parentLocales[locale];\n    }\n    return all;\n  }, {});\n}\nexport function setInternalSlot(map, pl, field, value) {\n  if (!map.get(pl)) {\n    map.set(pl, Object.create(null));\n  }\n  var slots = map.get(pl);\n  slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var k = _a[_i];\n    setInternalSlot(map, pl, k, props[k]);\n  }\n}\nexport function getInternalSlot(map, pl, field) {\n  return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n  var fields = [];\n  for (var _i = 2; _i < arguments.length; _i++) {\n    fields[_i - 2] = arguments[_i];\n  }\n  var slots = map.get(pl);\n  if (!slots) {\n    throw new TypeError(pl + \" InternalSlot has not been initialized\");\n  }\n  return fields.reduce(function (all, f) {\n    all[f] = slots[f];\n    return all;\n  }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n  return patternPart.type === 'literal';\n}\nexport function partitionPattern(pattern) {\n  var result = [];\n  var beginIndex = pattern.indexOf('{');\n  var endIndex = 0;\n  var nextIndex = 0;\n  var length = pattern.length;\n  while (beginIndex < pattern.length && beginIndex > -1) {\n    endIndex = pattern.indexOf('}', beginIndex);\n    invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n    if (beginIndex > nextIndex) {\n      result.push({\n        type: 'literal',\n        value: pattern.substring(nextIndex, beginIndex)\n      });\n    }\n    result.push({\n      type: pattern.substring(beginIndex + 1, endIndex),\n      value: undefined\n    });\n    nextIndex = endIndex + 1;\n    beginIndex = pattern.indexOf('{', nextIndex);\n  }\n  if (nextIndex < length) {\n    result.push({\n      type: 'literal',\n      value: pattern.substring(nextIndex, length)\n    });\n  }\n  return result;\n}\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n * https://tc39.es/proposal-unified-intl-numberformat/section11/numberformat_diff_out.html#sec-setnfdigitoptions\n * @param intlObj\n * @param opts\n * @param mnfdDefault\n * @param mxfdDefault\n */\nexport function setNumberFormatDigitOptions(internalSlotMap, intlObj, opts, mnfdDefault, mxfdDefault) {\n  var mnid = getNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n  var mnfd = opts.minimumFractionDigits;\n  var mxfd = opts.maximumFractionDigits;\n  var mnsd = opts.minimumSignificantDigits;\n  var mxsd = opts.maximumSignificantDigits;\n  setInternalSlot(internalSlotMap, intlObj, 'minimumIntegerDigits', mnid);\n  if (mnsd !== undefined || mxsd !== undefined) {\n    setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'significantDigits');\n    mnsd = defaultNumberOption(mnsd, 1, 21, 1);\n    mxsd = defaultNumberOption(mxsd, mnsd, 21, 21);\n    setInternalSlot(internalSlotMap, intlObj, 'minimumSignificantDigits', mnsd);\n    setInternalSlot(internalSlotMap, intlObj, 'maximumSignificantDigits', mxsd);\n  } else if (mnfd !== undefined || mxfd !== undefined) {\n    setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'fractionDigits');\n    mnfd = defaultNumberOption(mnfd, 0, 20, mnfdDefault);\n    var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n    mxfd = defaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n    setInternalSlot(internalSlotMap, intlObj, 'minimumFractionDigits', mnfd);\n    setInternalSlot(internalSlotMap, intlObj, 'maximumFractionDigits', mxfd);\n  } else if (getInternalSlot(internalSlotMap, intlObj, 'notation') === 'compact') {\n    setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'compactRounding');\n  } else {\n    setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'fractionDigits');\n    setInternalSlot(internalSlotMap, intlObj, 'minimumFractionDigits', mnfdDefault);\n    setInternalSlot(internalSlotMap, intlObj, 'maximumFractionDigits', mxfdDefault);\n  }\n}\nexport function objectIs(x, y) {\n  if (Object.is) {\n    return Object.is(x, y);\n  }\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return x !== 0 || 1 / x === 1 / y;\n  }\n  // Step 6.a: NaN == NaN\n  return x !== x && y !== y;\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n  return str.replace(/([a-z])/g, function (_, c) {\n    return c.toUpperCase();\n  });\n}\n/**\n * https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-iswellformedcurrencycode\n * @param currency\n */\nexport function isWellFormedCurrencyCode(currency) {\n  currency = toUpperCase(currency);\n  if (currency.length !== 3) {\n    return false;\n  }\n  if (NOT_A_Z_REGEX.test(currency)) {\n    return false;\n  }\n  return true;\n}","map":{"version":3,"sources":["../src/polyfill-utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import aliases from './aliases';\nimport parentLocales from './parentLocales';\nimport { invariant } from './invariant';\n/**\n * https://tc39.es/ecma262/#sec-toobject\n * @param arg\n */\nexport function toObject(arg) {\n    if (arg == null) {\n        throw new TypeError('undefined/null cannot be converted to object');\n    }\n    return Object(arg);\n}\n/**\n * https://tc39.es/ecma262/#sec-tostring\n */\nexport function toString(o) {\n    // Only symbol is irregular...\n    if (typeof o === 'symbol') {\n        throw TypeError('Cannot convert a Symbol value to a string');\n    }\n    return String(o);\n}\n/**\n * https://tc39.es/ecma402/#sec-getoption\n * @param opts\n * @param prop\n * @param type\n * @param values\n * @param fallback\n */\nexport function getOption(opts, prop, type, values, fallback) {\n    // const descriptor = Object.getOwnPropertyDescriptor(opts, prop);\n    var value = opts[prop];\n    if (value !== undefined) {\n        if (type !== 'boolean' && type !== 'string') {\n            throw new TypeError('invalid type');\n        }\n        if (type === 'boolean') {\n            value = Boolean(value);\n        }\n        if (type === 'string') {\n            value = toString(value);\n        }\n        if (values !== undefined && !values.filter(function (val) { return val == value; }).length) {\n            throw new RangeError(value + \" is not within \" + values.join(', '));\n        }\n        return value;\n    }\n    return fallback;\n}\n/**\n * https://tc39.es/ecma402/#sec-defaultnumberoption\n * @param val\n * @param min\n * @param max\n * @param fallback\n */\nexport function defaultNumberOption(val, min, max, fallback) {\n    if (val !== undefined) {\n        val = Number(val);\n        if (isNaN(val) || val < min || val > max) {\n            throw new RangeError(val + \" is outside of range [\" + min + \", \" + max + \"]\");\n        }\n        return Math.floor(val);\n    }\n    return fallback;\n}\n/**\n * https://tc39.es/ecma402/#sec-getnumberoption\n * @param options\n * @param property\n * @param min\n * @param max\n * @param fallback\n */\nexport function getNumberOption(options, property, minimum, maximum, fallback) {\n    var val = options[property];\n    return defaultNumberOption(val, minimum, maximum, fallback);\n}\nexport function getAliasesByLang(lang) {\n    return Object.keys(aliases).reduce(function (all, locale) {\n        if (locale.split('-')[0] === lang) {\n            all[locale] = aliases[locale];\n        }\n        return all;\n    }, {});\n}\nexport function getParentLocalesByLang(lang) {\n    return Object.keys(parentLocales).reduce(function (all, locale) {\n        if (locale.split('-')[0] === lang) {\n            all[locale] = parentLocales[locale];\n        }\n        return all;\n    }, {});\n}\nexport function setInternalSlot(map, pl, field, value) {\n    if (!map.get(pl)) {\n        map.set(pl, Object.create(null));\n    }\n    var slots = map.get(pl);\n    slots[field] = value;\n}\nexport function setMultiInternalSlots(map, pl, props) {\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n        var k = _a[_i];\n        setInternalSlot(map, pl, k, props[k]);\n    }\n}\nexport function getInternalSlot(map, pl, field) {\n    return getMultiInternalSlots(map, pl, field)[field];\n}\nexport function getMultiInternalSlots(map, pl) {\n    var fields = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        fields[_i - 2] = arguments[_i];\n    }\n    var slots = map.get(pl);\n    if (!slots) {\n        throw new TypeError(pl + \" InternalSlot has not been initialized\");\n    }\n    return fields.reduce(function (all, f) {\n        all[f] = slots[f];\n        return all;\n    }, Object.create(null));\n}\nexport function isLiteralPart(patternPart) {\n    return patternPart.type === 'literal';\n}\nexport function partitionPattern(pattern) {\n    var result = [];\n    var beginIndex = pattern.indexOf('{');\n    var endIndex = 0;\n    var nextIndex = 0;\n    var length = pattern.length;\n    while (beginIndex < pattern.length && beginIndex > -1) {\n        endIndex = pattern.indexOf('}', beginIndex);\n        invariant(endIndex > beginIndex, \"Invalid pattern \" + pattern);\n        if (beginIndex > nextIndex) {\n            result.push({\n                type: 'literal',\n                value: pattern.substring(nextIndex, beginIndex),\n            });\n        }\n        result.push({\n            type: pattern.substring(beginIndex + 1, endIndex),\n            value: undefined,\n        });\n        nextIndex = endIndex + 1;\n        beginIndex = pattern.indexOf('{', nextIndex);\n    }\n    if (nextIndex < length) {\n        result.push({\n            type: 'literal',\n            value: pattern.substring(nextIndex, length),\n        });\n    }\n    return result;\n}\n/**\n * https://tc39.es/ecma402/#sec-setnfdigitoptions\n * https://tc39.es/proposal-unified-intl-numberformat/section11/numberformat_diff_out.html#sec-setnfdigitoptions\n * @param intlObj\n * @param opts\n * @param mnfdDefault\n * @param mxfdDefault\n */\nexport function setNumberFormatDigitOptions(internalSlotMap, intlObj, opts, mnfdDefault, mxfdDefault) {\n    var mnid = getNumberOption(opts, 'minimumIntegerDigits', 1, 21, 1);\n    var mnfd = opts.minimumFractionDigits;\n    var mxfd = opts.maximumFractionDigits;\n    var mnsd = opts.minimumSignificantDigits;\n    var mxsd = opts.maximumSignificantDigits;\n    setInternalSlot(internalSlotMap, intlObj, 'minimumIntegerDigits', mnid);\n    if (mnsd !== undefined || mxsd !== undefined) {\n        setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'significantDigits');\n        mnsd = defaultNumberOption(mnsd, 1, 21, 1);\n        mxsd = defaultNumberOption(mxsd, mnsd, 21, 21);\n        setInternalSlot(internalSlotMap, intlObj, 'minimumSignificantDigits', mnsd);\n        setInternalSlot(internalSlotMap, intlObj, 'maximumSignificantDigits', mxsd);\n    }\n    else if (mnfd !== undefined || mxfd !== undefined) {\n        setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'fractionDigits');\n        mnfd = defaultNumberOption(mnfd, 0, 20, mnfdDefault);\n        var mxfdActualDefault = Math.max(mnfd, mxfdDefault);\n        mxfd = defaultNumberOption(mxfd, mnfd, 20, mxfdActualDefault);\n        setInternalSlot(internalSlotMap, intlObj, 'minimumFractionDigits', mnfd);\n        setInternalSlot(internalSlotMap, intlObj, 'maximumFractionDigits', mxfd);\n    }\n    else if (getInternalSlot(internalSlotMap, intlObj, 'notation') === 'compact') {\n        setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'compactRounding');\n    }\n    else {\n        setInternalSlot(internalSlotMap, intlObj, 'roundingType', 'fractionDigits');\n        setInternalSlot(internalSlotMap, intlObj, 'minimumFractionDigits', mnfdDefault);\n        setInternalSlot(internalSlotMap, intlObj, 'maximumFractionDigits', mxfdDefault);\n    }\n}\nexport function objectIs(x, y) {\n    if (Object.is) {\n        return Object.is(x, y);\n    }\n    // SameValue algorithm\n    if (x === y) {\n        // Steps 1-5, 7-10\n        // Steps 6.b-6.e: +0 != -0\n        return x !== 0 || 1 / x === 1 / y;\n    }\n    // Step 6.a: NaN == NaN\n    return x !== x && y !== y;\n}\nvar NOT_A_Z_REGEX = /[^A-Z]/;\n/**\n * This follows https://tc39.es/ecma402/#sec-case-sensitivity-and-case-mapping\n * @param str string to convert\n */\nfunction toUpperCase(str) {\n    return str.replace(/([a-z])/g, function (_, c) { return c.toUpperCase(); });\n}\n/**\n * https://tc39.es/proposal-unified-intl-numberformat/section6/locales-currencies-tz_proposed_out.html#sec-iswellformedcurrencycode\n * @param currency\n */\nexport function isWellFormedCurrencyCode(currency) {\n    currency = toUpperCase(currency);\n    if (currency.length !== 3) {\n        return false;\n    }\n    if (NOT_A_Z_REGEX.test(currency)) {\n        return false;\n    }\n    return true;\n}\n//# sourceMappingURL=polyfill-utils.js.map"]},"metadata":{},"sourceType":"module"}