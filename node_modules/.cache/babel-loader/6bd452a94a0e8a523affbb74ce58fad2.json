{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\src\\\\screens\\\\ProfileTwoFactorAuthScreen\\\\index.tsx\";\nimport * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { CloseIcon } from '../../assets/images/CloseIcon';\nimport { CopyableTextField, CustomInput } from '../../components';\nimport { copy, setDocumentTitle } from '../../helpers';\nimport { alertPush, selectMobileDeviceState } from '../../modules';\nimport { generate2faQRFetch, selectTwoFactorAuthBarcode, selectTwoFactorAuthQR, selectTwoFactorAuthSuccess, toggle2faFetch } from '../../modules/user/profile';\nvar ToggleTwoFactorAuthComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(ToggleTwoFactorAuthComponent, _React$Component);\n  var _super = _createSuper(ToggleTwoFactorAuthComponent);\n  function ToggleTwoFactorAuthComponent() {\n    var _this;\n    _classCallCheck(this, ToggleTwoFactorAuthComponent);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      otpCode: ''\n    };\n    _this.translate = function (e) {\n      return _this.props.intl.formatMessage({\n        id: e\n      });\n    };\n    _this.doCopy = function () {\n      copy('referral-id');\n      _this.props.fetchSuccess({\n        message: ['page.body.wallets.tabs.deposit.ccy.message.success'],\n        type: 'success'\n      });\n    };\n    _this.renderToggle2fa = function (enable2fa) {\n      var _this$props = _this.props,\n        barcode = _this$props.barcode,\n        qrUrl = _this$props.qrUrl;\n      var otpCode = _this.state.otpCode;\n      var secretRegex = /secret=(\\w+)/;\n      var secretMatch = qrUrl.match(secretRegex);\n      var secret = secretMatch ? secretMatch[1] : null;\n      var submitHandler = enable2fa ? _this.handleEnable2fa : _this.handleDisable2fa;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container mt-5 pg-profile-two-factor-auth__form p-0\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 pg-profile-two-factor-auth__header\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-11 col-lg-7 offset-lg-4 mt-0 p-0 pl-3\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.header')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 mx-0 p-0 px-1\",\n        onClick: _this.goBack,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, {\n        className: \"close-icon\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 pg-profile-two-factor-auth__body\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-8 col-md-9 pr-0 pl-2 pg-profile-two-factor-auth__body--text d-inline-block\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row col-12 pg-profile-two-factor-auth__body--text--group\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-inline\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-number\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 33\n        }\n      }, \"1   \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-text\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 33\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.1')), /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: \"https://apps.apple.com/app/google-authenticator/id388497605?mt=8\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 33\n        }\n      }, \"AppStore\"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-text\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 33\n        }\n      }, \" \", _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.or')), /*#__PURE__*/React.createElement(\"a\", {\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        href: \"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 33\n        }\n      }, \"Google play\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row col-12 pg-profile-two-factor-auth__body--text--group\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-inline\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-number\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 33\n        }\n      }, \"2    \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-text\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.2')), /*#__PURE__*/React.createElement(\"br\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-text\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 33\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.3'))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-lg-4 col-md-3 pt-4 pg-profile-two-factor-auth__body--barcode\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, enable2fa && _this.renderTwoFactorAuthQR(barcode))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 p-5 pg-profile-two-factor-auth__copyablefield\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, enable2fa && secret && _this.renderSecret(secret)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row m-0 pg-profile-two-factor-auth__body\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 pl-2 pg-profile-two-factor-auth__body--text d-inline-block\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row col-12 pg-profile-two-factor-auth__body--text--group\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-sm-5\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-number\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 33\n        }\n      }, \"3   \"), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cr-item-text\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 33\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.4'))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 col-sm-7\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"fieldset\", {\n        className: \"pg-profile-two-factor-auth__body--input\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"hidden-label\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 37\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.subHeader')), /*#__PURE__*/React.createElement(CustomInput, {\n        handleChangeInput: _this.handleOtpCodeChange,\n        type: \"tel\",\n        inputValue: otpCode,\n        placeholder: _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.subHeader'),\n        onKeyPress: _this.handleEnterPress,\n        label: _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.subHeader'),\n        defaultLabel: \"\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      })))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row p-5\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12 m-0\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: submitHandler,\n        size: \"lg\",\n        variant: \"primary\",\n        type: \"button\",\n        block: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.enable')))));\n    };\n    _this.renderTwoFactorAuthQR = function (barcode) {\n      var src = \"data:image/png;base64,\".concat(barcode);\n      return barcode.length > 0 && /*#__PURE__*/React.createElement(\"img\", {\n        alt: \"\",\n        className: \"pg-profile-two-factor-auth__qr\",\n        src: src,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 38\n        }\n      });\n    };\n    _this.renderSecret = function (secret) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-profile-two-factor-auth__copyablefield__container\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"legend\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }\n      }, _this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.mfa')), /*#__PURE__*/React.createElement(\"fieldset\", {\n        onClick: _this.doCopy,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }, secret && /*#__PURE__*/React.createElement(CopyableTextField, {\n        value: secret,\n        fieldId: \"secret-2fa\",\n        label: \"\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 32\n        }\n      })));\n    };\n    _this.handleOtpCodeChange = function (value) {\n      _this.setState({\n        otpCode: value\n      });\n    };\n    _this.handleEnterPress = function (event) {\n      var enable2fa = _this.get2faAction();\n      var submitHandler = enable2fa ? _this.handleEnable2fa : _this.handleDisable2fa;\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        submitHandler();\n      }\n    };\n    _this.handleEnable2fa = function () {\n      _this.props.toggle2fa({\n        code: _this.state.otpCode,\n        enable: true\n      });\n    };\n    _this.handleDisable2fa = function () {\n      _this.props.toggle2fa({\n        code: _this.state.otpCode,\n        enable: false\n      });\n    };\n    _this.handleNavigateToProfile = function () {\n      _this.props.history.push('/profile');\n    };\n    _this.get2faAction = function () {\n      var routingState = _this.props.history.location.state;\n      return routingState ? routingState.enable2fa : false;\n    };\n    _this.goBack = function () {\n      window.history.back();\n    };\n    return _this;\n  }\n  _createClass(ToggleTwoFactorAuthComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      setDocumentTitle('Two factor authentication');\n      var enable2fa = this.get2faAction();\n      if (enable2fa) {\n        this.props.generateQR();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(next) {\n      if (!this.props.success && next.success) {\n        this.handleNavigateToProfile();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var enable2fa = this.get2faAction();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-profile-two-factor-auth\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, this.renderToggle2fa(enable2fa));\n    }\n  }]);\n  return ToggleTwoFactorAuthComponent;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    qrUrl: selectTwoFactorAuthQR(state),\n    barcode: selectTwoFactorAuthBarcode(state),\n    success: selectTwoFactorAuthSuccess(state),\n    isMobileDevice: selectMobileDeviceState(state)\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    generateQR: function generateQR() {\n      return dispatch(generate2faQRFetch());\n    },\n    toggle2fa: function toggle2fa(_ref) {\n      var code = _ref.code,\n        enable = _ref.enable;\n      return dispatch(toggle2faFetch({\n        code: code,\n        enable: enable\n      }));\n    },\n    fetchSuccess: function fetchSuccess(payload) {\n      return dispatch(alertPush(payload));\n    }\n  };\n};\nexport var ProfileTwoFactorAuthScreen = compose(injectIntl, withRouter, connect(mapStateToProps, mapDispatchToProps))(ToggleTwoFactorAuthComponent);","map":{"version":3,"names":["React","Button","injectIntl","connect","withRouter","compose","CloseIcon","CopyableTextField","CustomInput","copy","setDocumentTitle","alertPush","selectMobileDeviceState","generate2faQRFetch","selectTwoFactorAuthBarcode","selectTwoFactorAuthQR","selectTwoFactorAuthSuccess","toggle2faFetch","ToggleTwoFactorAuthComponent","state","otpCode","translate","e","props","intl","formatMessage","id","doCopy","fetchSuccess","message","type","renderToggle2fa","enable2fa","barcode","qrUrl","secretRegex","secretMatch","match","secret","submitHandler","handleEnable2fa","handleDisable2fa","goBack","renderTwoFactorAuthQR","renderSecret","handleOtpCodeChange","handleEnterPress","src","length","value","setState","event","get2faAction","key","preventDefault","toggle2fa","code","enable","handleNavigateToProfile","history","push","routingState","location","window","back","generateQR","next","success","Component","mapStateToProps","isMobileDevice","mapDispatchToProps","dispatch","payload","ProfileTwoFactorAuthScreen"],"sources":["C:/Users/Elton/OneDrive/Desktop/baseapp-2024/src/screens/ProfileTwoFactorAuthScreen/index.tsx"],"sourcesContent":["import { History } from 'history';\nimport * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport { connect, MapDispatchToProps, MapStateToProps } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { IntlProps } from '../../';\nimport { CloseIcon } from '../../assets/images/CloseIcon';\nimport { CopyableTextField, CustomInput } from '../../components';\nimport { copy, setDocumentTitle } from '../../helpers';\nimport { alertPush, RootState, selectMobileDeviceState } from '../../modules';\nimport {\n    generate2faQRFetch,\n    selectTwoFactorAuthBarcode,\n    selectTwoFactorAuthQR,\n    selectTwoFactorAuthSuccess,\n    toggle2faFetch,\n} from '../../modules/user/profile';\n\ninterface RouterProps {\n    history: History;\n}\n\ninterface ReduxProps {\n    barcode: string;\n    qrUrl: string;\n    success?: boolean;\n    isMobileDevice: boolean;\n}\n\ninterface DispatchProps {\n    toggle2fa: typeof toggle2faFetch;\n    generateQR: typeof generate2faQRFetch;\n    fetchSuccess: typeof alertPush;\n}\n\ntype Props = RouterProps & ReduxProps & DispatchProps & IntlProps;\n\ninterface State {\n    otpCode: string;\n}\n\nclass ToggleTwoFactorAuthComponent extends React.Component<Props, State> {\n    public state = {\n        otpCode: '',\n    };\n\n    public componentDidMount() {\n        setDocumentTitle('Two factor authentication');\n        const enable2fa = this.get2faAction();\n        if (enable2fa) {\n            this.props.generateQR();\n        }\n    }\n\n    public componentWillReceiveProps(next: Props) {\n        if (!this.props.success && next.success) {\n            this.handleNavigateToProfile();\n        }\n    }\n\n    public translate = (e: string) => {\n        return this.props.intl.formatMessage({ id: e });\n    };\n\n    public doCopy = () => {\n        copy('referral-id');\n        this.props.fetchSuccess({message: ['page.body.wallets.tabs.deposit.ccy.message.success'], type: 'success'});\n    };\n\n    public render() {\n        const enable2fa = this.get2faAction();\n\n        return (\n            <div className=\"pg-profile-two-factor-auth\">\n                {this.renderToggle2fa(enable2fa)}\n            </div>\n        );\n    }\n\n    private renderToggle2fa = (enable2fa: boolean) => {\n        const {\n            barcode,\n            qrUrl,\n        } = this.props;\n        const { otpCode } = this.state;\n\n        const secretRegex = /secret=(\\w+)/;\n        const secretMatch = qrUrl.match(secretRegex);\n        const secret = secretMatch ? secretMatch[1] : null;\n        const submitHandler = enable2fa ? this.handleEnable2fa : this.handleDisable2fa;\n\n        return (\n            <div className=\"container mt-5 pg-profile-two-factor-auth__form p-0\">\n                <div className=\"row m-0 pg-profile-two-factor-auth__header\">\n                    <div className=\"col-11 col-lg-7 offset-lg-4 mt-0 p-0 pl-3\">\n                        {this.translate('page.body.profile.header.account.content.twoFactorAuthentication.header')}\n                    </div>\n                    <div className=\"col-1 mx-0 p-0 px-1\" onClick={this.goBack}>\n                        <CloseIcon className=\"close-icon\" />\n                    </div>\n                </div>\n\n                <div className=\"row m-0 pg-profile-two-factor-auth__body\">\n                    <div className=\"col-12 col-lg-8 col-md-9 pr-0 pl-2 pg-profile-two-factor-auth__body--text d-inline-block\">\n                        <div className=\"row col-12 pg-profile-two-factor-auth__body--text--group\">\n                            <div className=\"d-inline\">\n                                <span className=\"cr-item-number\">1   </span>\n                                <span className=\"cr-item-text\">{this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.1')}</span>\n                                <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://apps.apple.com/app/google-authenticator/id388497605?mt=8\">AppStore</a>\n                                <span className=\"cr-item-text\"> {this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.or')}</span>\n                                <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl\">Google play</a>\n                            </div>\n                        </div>\n                        <div className=\"row col-12 pg-profile-two-factor-auth__body--text--group\">\n                            <div className=\"d-inline\">\n                                <span className=\"cr-item-number\">2    </span>\n                                <span className=\"cr-item-text\">{this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.2')}</span>\n                                <br />\n                                <span className=\"cr-item-text\">{this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.3')}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-12 col-lg-4 col-md-3 pt-4 pg-profile-two-factor-auth__body--barcode\">\n                        {enable2fa && this.renderTwoFactorAuthQR(barcode)}\n                    </div>\n                </div>\n                <div className=\"row m-0 p-5 pg-profile-two-factor-auth__copyablefield\">\n                    {enable2fa && secret && this.renderSecret(secret)}\n                </div>\n                <div className=\"row m-0 pg-profile-two-factor-auth__body\">\n                    <div className=\"col-12 pl-2 pg-profile-two-factor-auth__body--text d-inline-block\">\n                        <div className=\"row col-12 pg-profile-two-factor-auth__body--text--group\">\n                            <div className=\"col-12 col-sm-5\">\n                                <span className=\"cr-item-number\">3   </span>\n                                <span className=\"cr-item-text\">{this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.4')}</span>\n                            </div>\n                            <div className=\"col-12 col-sm-7\">\n                                <fieldset className=\"pg-profile-two-factor-auth__body--input\">\n                                    <div className=\"hidden-label\">{this.translate('page.body.profile.header.account.content.twoFactorAuthentication.subHeader')}</div>\n                                    <CustomInput\n                                        handleChangeInput={this.handleOtpCodeChange}\n                                        type=\"tel\"\n                                        inputValue={otpCode}\n                                        placeholder={this.translate('page.body.profile.header.account.content.twoFactorAuthentication.subHeader')}\n                                        onKeyPress={this.handleEnterPress}\n                                        label={this.translate('page.body.profile.header.account.content.twoFactorAuthentication.subHeader')}\n                                        defaultLabel=\"\"\n                                    />\n                                </fieldset>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row p-5\">\n                    <div className=\"col-12 m-0\">\n                        <Button\n                            onClick={submitHandler}\n                            size=\"lg\"\n                            variant=\"primary\"\n                            type=\"button\"\n                            block={true}\n                        >\n                            {this.translate('page.body.profile.header.account.content.twoFactorAuthentication.enable')}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    private renderTwoFactorAuthQR = (barcode: string) => {\n        const src = `data:image/png;base64,${barcode}`;\n\n        return barcode.length > 0 && <img alt=\"\" className=\"pg-profile-two-factor-auth__qr\" src={src} />;\n    };\n\n    private renderSecret = (secret: string) => {\n        return (\n            <div className=\"pg-profile-two-factor-auth__copyablefield__container\">\n                <legend>{this.translate('page.body.profile.header.account.content.twoFactorAuthentication.message.mfa')}</legend>\n                <fieldset onClick={this.doCopy}>\n                    {secret && <CopyableTextField\n                      value={secret}\n                      fieldId=\"secret-2fa\"\n                      label=\"\"\n                    />\n                    }\n                </fieldset>\n            </div>\n        );\n    };\n\n    private handleOtpCodeChange = (value: string) => {\n        this.setState({\n            otpCode: value,\n        });\n    };\n\n    private handleEnterPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n        const enable2fa = this.get2faAction();\n        const submitHandler = enable2fa ? this.handleEnable2fa : this.handleDisable2fa;\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            submitHandler();\n        }\n    };\n\n    private handleEnable2fa = () => {\n        this.props.toggle2fa({\n            code: this.state.otpCode,\n            enable: true,\n        });\n    };\n\n    private handleDisable2fa = () => {\n        this.props.toggle2fa({\n            code: this.state.otpCode,\n            enable: false,\n        });\n    };\n\n    private handleNavigateToProfile = () => {\n        this.props.history.push('/profile');\n    };\n\n    private get2faAction = () => {\n        const routingState = this.props.history.location.state as any;\n\n        return routingState ? routingState.enable2fa : false;\n    };\n\n    private goBack = () => {\n        window.history.back();\n    };\n}\n\nconst mapStateToProps: MapStateToProps<ReduxProps, Props, RootState> = state => ({\n    qrUrl: selectTwoFactorAuthQR(state),\n    barcode: selectTwoFactorAuthBarcode(state),\n    success: selectTwoFactorAuthSuccess(state),\n    isMobileDevice: selectMobileDeviceState(state),\n});\n\nconst mapDispatchToProps: MapDispatchToProps<DispatchProps, {}> = dispatch => ({\n    generateQR: () => dispatch(generate2faQRFetch()),\n    toggle2fa: ({ code, enable }) => dispatch(toggle2faFetch({ code, enable })),\n    fetchSuccess: payload => dispatch(alertPush(payload)),\n});\n\nexport const ProfileTwoFactorAuthScreen = compose(\n    injectIntl,\n    withRouter,\n    connect(mapStateToProps, mapDispatchToProps),\n)(ToggleTwoFactorAuthComponent) as React.ComponentClass;\n"],"mappings":";;;;;;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,QAAQ,iBAAiB;AACxC,SAASC,UAAU,QAAQ,YAAY;AACvC,SAASC,OAAO,QAA6C,aAAa;AAC1E,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,OAAO,QAAQ,OAAO;AAE/B,SAASC,SAAS,QAAQ,+BAA+B;AACzD,SAASC,iBAAiB,EAAEC,WAAW,QAAQ,kBAAkB;AACjE,SAASC,IAAI,EAAEC,gBAAgB,QAAQ,eAAe;AACtD,SAASC,SAAS,EAAaC,uBAAuB,QAAQ,eAAe;AAC7E,SACIC,kBAAkB,EAClBC,0BAA0B,EAC1BC,qBAAqB,EACrBC,0BAA0B,EAC1BC,cAAc,QACX,4BAA4B;AAAC,IAyB9BC,4BAA4B;EAAA;EAAA;EAAA;IAAA;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA,MACvBC,KAAK,GAAG;MACXC,OAAO,EAAE;IACb,CAAC;IAAA,MAgBMC,SAAS,GAAG,UAACC,CAAS,EAAK;MAC9B,OAAO,MAAKC,KAAK,CAACC,IAAI,CAACC,aAAa,CAAC;QAAEC,EAAE,EAAEJ;MAAE,CAAC,CAAC;IACnD,CAAC;IAAA,MAEMK,MAAM,GAAG,YAAM;MAClBlB,IAAI,CAAC,aAAa,CAAC;MACnB,MAAKc,KAAK,CAACK,YAAY,CAAC;QAACC,OAAO,EAAE,CAAC,oDAAoD,CAAC;QAAEC,IAAI,EAAE;MAAS,CAAC,CAAC;IAC/G,CAAC;IAAA,MAYOC,eAAe,GAAG,UAACC,SAAkB,EAAK;MAC9C,kBAGI,MAAKT,KAAK;QAFVU,OAAO,eAAPA,OAAO;QACPC,KAAK,eAALA,KAAK;MAET,IAAQd,OAAO,GAAK,MAAKD,KAAK,CAAtBC,OAAO;MAEf,IAAMe,WAAW,GAAG,cAAc;MAClC,IAAMC,WAAW,GAAGF,KAAK,CAACG,KAAK,CAACF,WAAW,CAAC;MAC5C,IAAMG,MAAM,GAAGF,WAAW,GAAGA,WAAW,CAAC,CAAC,CAAC,GAAG,IAAI;MAClD,IAAMG,aAAa,GAAGP,SAAS,GAAG,MAAKQ,eAAe,GAAG,MAAKC,gBAAgB;MAE9E,oBACI;QAAK,SAAS,EAAC,qDAAqD;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAChE;QAAK,SAAS,EAAC,4CAA4C;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACvD;QAAK,SAAS,EAAC,2CAA2C;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACrD,MAAKpB,SAAS,CAAC,yEAAyE,CAAC,CACxF,eACN;QAAK,SAAS,EAAC,qBAAqB;QAAC,OAAO,EAAE,MAAKqB,MAAO;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACtD,oBAAC,SAAS;QAAC,SAAS,EAAC,YAAY;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG,CAClC,CACJ,eAEN;QAAK,SAAS,EAAC,0CAA0C;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrD;QAAK,SAAS,EAAC,0FAA0F;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrG;QAAK,SAAS,EAAC,0DAA0D;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrE;QAAK,SAAS,EAAC,UAAU;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrB;QAAM,SAAS,EAAC,gBAAgB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,UAAY,eAC5C;QAAM,SAAS,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAE,MAAKrB,SAAS,CAAC,4EAA4E,CAAC,CAAQ,eACpI;QAAG,MAAM,EAAC,QAAQ;QAAC,GAAG,EAAC,qBAAqB;QAAC,IAAI,EAAC,kEAAkE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,cAAa,eACjI;QAAM,SAAS,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,QAAG,MAAKA,SAAS,CAAC,6EAA6E,CAAC,CAAQ,eACtI;QAAG,MAAM,EAAC,QAAQ;QAAC,GAAG,EAAC,qBAAqB;QAAC,IAAI,EAAC,yFAAyF;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,iBAAgB,CACzJ,CACJ,eACN;QAAK,SAAS,EAAC,0DAA0D;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrE;QAAK,SAAS,EAAC,UAAU;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrB;QAAM,SAAS,EAAC,gBAAgB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,WAAa,eAC7C;QAAM,SAAS,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAE,MAAKA,SAAS,CAAC,4EAA4E,CAAC,CAAQ,eACpI;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAM,eACN;QAAM,SAAS,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAE,MAAKA,SAAS,CAAC,4EAA4E,CAAC,CAAQ,CAClI,CACJ,CACJ,eACN;QAAK,SAAS,EAAC,yEAAyE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACnFW,SAAS,IAAI,MAAKW,qBAAqB,CAACV,OAAO,CAAC,CAC/C,CACJ,eACN;QAAK,SAAS,EAAC,uDAAuD;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACjED,SAAS,IAAIM,MAAM,IAAI,MAAKM,YAAY,CAACN,MAAM,CAAC,CAC/C,eACN;QAAK,SAAS,EAAC,0CAA0C;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrD;QAAK,SAAS,EAAC,mEAAmE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC9E;QAAK,SAAS,EAAC,0DAA0D;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACrE;QAAK,SAAS,EAAC,iBAAiB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC5B;QAAM,SAAS,EAAC,gBAAgB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,UAAY,eAC5C;QAAM,SAAS,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAE,MAAKjB,SAAS,CAAC,4EAA4E,CAAC,CAAQ,CAClI,eACN;QAAK,SAAS,EAAC,iBAAiB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBAC5B;QAAU,SAAS,EAAC,yCAAyC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACzD;QAAK,SAAS,EAAC,cAAc;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAE,MAAKA,SAAS,CAAC,4EAA4E,CAAC,CAAO,eAClI,oBAAC,WAAW;QACR,iBAAiB,EAAE,MAAKwB,mBAAoB;QAC5C,IAAI,EAAC,KAAK;QACV,UAAU,EAAEzB,OAAQ;QACpB,WAAW,EAAE,MAAKC,SAAS,CAAC,4EAA4E,CAAE;QAC1G,UAAU,EAAE,MAAKyB,gBAAiB;QAClC,KAAK,EAAE,MAAKzB,SAAS,CAAC,4EAA4E,CAAE;QACpG,YAAY,EAAC,EAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACjB,CACK,CACT,CACJ,CACJ,CACJ,eACN;QAAK,SAAS,EAAC,SAAS;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACpB;QAAK,SAAS,EAAC,YAAY;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACvB,oBAAC,MAAM;QACH,OAAO,EAAEkB,aAAc;QACvB,IAAI,EAAC,IAAI;QACT,OAAO,EAAC,SAAS;QACjB,IAAI,EAAC,QAAQ;QACb,KAAK,EAAE,IAAK;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAEX,MAAKlB,SAAS,CAAC,yEAAyE,CAAC,CACrF,CACP,CACJ,CACJ;IAEd,CAAC;IAAA,MAEOsB,qBAAqB,GAAG,UAACV,OAAe,EAAK;MACjD,IAAMc,GAAG,mCAA4Bd,OAAO,CAAE;MAE9C,OAAOA,OAAO,CAACe,MAAM,GAAG,CAAC,iBAAI;QAAK,GAAG,EAAC,EAAE;QAAC,SAAS,EAAC,gCAAgC;QAAC,GAAG,EAAED,GAAI;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAG;IACpG,CAAC;IAAA,MAEOH,YAAY,GAAG,UAACN,MAAc,EAAK;MACvC,oBACI;QAAK,SAAS,EAAC,sDAAsD;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACjE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAAS,MAAKjB,SAAS,CAAC,8EAA8E,CAAC,CAAU,eACjH;QAAU,OAAO,EAAE,MAAKM,MAAO;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GAC1BW,MAAM,iBAAI,oBAAC,iBAAiB;QAC3B,KAAK,EAAEA,MAAO;QACd,OAAO,EAAC,YAAY;QACpB,KAAK,EAAC,EAAE;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EACR,CAEK,CACT;IAEd,CAAC;IAAA,MAEOO,mBAAmB,GAAG,UAACI,KAAa,EAAK;MAC7C,MAAKC,QAAQ,CAAC;QACV9B,OAAO,EAAE6B;MACb,CAAC,CAAC;IACN,CAAC;IAAA,MAEOH,gBAAgB,GAAG,UAACK,KAA4C,EAAK;MACzE,IAAMnB,SAAS,GAAG,MAAKoB,YAAY,EAAE;MACrC,IAAMb,aAAa,GAAGP,SAAS,GAAG,MAAKQ,eAAe,GAAG,MAAKC,gBAAgB;MAC9E,IAAIU,KAAK,CAACE,GAAG,KAAK,OAAO,EAAE;QACvBF,KAAK,CAACG,cAAc,EAAE;QACtBf,aAAa,EAAE;MACnB;IACJ,CAAC;IAAA,MAEOC,eAAe,GAAG,YAAM;MAC5B,MAAKjB,KAAK,CAACgC,SAAS,CAAC;QACjBC,IAAI,EAAE,MAAKrC,KAAK,CAACC,OAAO;QACxBqC,MAAM,EAAE;MACZ,CAAC,CAAC;IACN,CAAC;IAAA,MAEOhB,gBAAgB,GAAG,YAAM;MAC7B,MAAKlB,KAAK,CAACgC,SAAS,CAAC;QACjBC,IAAI,EAAE,MAAKrC,KAAK,CAACC,OAAO;QACxBqC,MAAM,EAAE;MACZ,CAAC,CAAC;IACN,CAAC;IAAA,MAEOC,uBAAuB,GAAG,YAAM;MACpC,MAAKnC,KAAK,CAACoC,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;IACvC,CAAC;IAAA,MAEOR,YAAY,GAAG,YAAM;MACzB,IAAMS,YAAY,GAAG,MAAKtC,KAAK,CAACoC,OAAO,CAACG,QAAQ,CAAC3C,KAAY;MAE7D,OAAO0C,YAAY,GAAGA,YAAY,CAAC7B,SAAS,GAAG,KAAK;IACxD,CAAC;IAAA,MAEOU,MAAM,GAAG,YAAM;MACnBqB,MAAM,CAACJ,OAAO,CAACK,IAAI,EAAE;IACzB,CAAC;IAAA;EAAA;EAAA;IAAA;IAAA,OA3LD,6BAA2B;MACvBtD,gBAAgB,CAAC,2BAA2B,CAAC;MAC7C,IAAMsB,SAAS,GAAG,IAAI,CAACoB,YAAY,EAAE;MACrC,IAAIpB,SAAS,EAAE;QACX,IAAI,CAACT,KAAK,CAAC0C,UAAU,EAAE;MAC3B;IACJ;EAAC;IAAA;IAAA,OAED,mCAAiCC,IAAW,EAAE;MAC1C,IAAI,CAAC,IAAI,CAAC3C,KAAK,CAAC4C,OAAO,IAAID,IAAI,CAACC,OAAO,EAAE;QACrC,IAAI,CAACT,uBAAuB,EAAE;MAClC;IACJ;EAAC;IAAA;IAAA,OAWD,kBAAgB;MACZ,IAAM1B,SAAS,GAAG,IAAI,CAACoB,YAAY,EAAE;MAErC,oBACI;QAAK,SAAS,EAAC,4BAA4B;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,GACtC,IAAI,CAACrB,eAAe,CAACC,SAAS,CAAC,CAC9B;IAEd;EAAC;EAAA;AAAA,EApCsChC,KAAK,CAACoE,SAAS;AAmM1D,IAAMC,eAA8D,GAAG,SAAjEA,eAA8D,CAAGlD,KAAK;EAAA,OAAK;IAC7Ee,KAAK,EAAEnB,qBAAqB,CAACI,KAAK,CAAC;IACnCc,OAAO,EAAEnB,0BAA0B,CAACK,KAAK,CAAC;IAC1CgD,OAAO,EAAEnD,0BAA0B,CAACG,KAAK,CAAC;IAC1CmD,cAAc,EAAE1D,uBAAuB,CAACO,KAAK;EACjD,CAAC;AAAA,CAAC;AAEF,IAAMoD,kBAAyD,GAAG,SAA5DA,kBAAyD,CAAGC,QAAQ;EAAA,OAAK;IAC3EP,UAAU,EAAE;MAAA,OAAMO,QAAQ,CAAC3D,kBAAkB,EAAE,CAAC;IAAA;IAChD0C,SAAS,EAAE;MAAA,IAAGC,IAAI,QAAJA,IAAI;QAAEC,MAAM,QAANA,MAAM;MAAA,OAAOe,QAAQ,CAACvD,cAAc,CAAC;QAAEuC,IAAI,EAAJA,IAAI;QAAEC,MAAM,EAANA;MAAO,CAAC,CAAC,CAAC;IAAA;IAC3E7B,YAAY,EAAE,sBAAA6C,OAAO;MAAA,OAAID,QAAQ,CAAC7D,SAAS,CAAC8D,OAAO,CAAC,CAAC;IAAA;EACzD,CAAC;AAAA,CAAC;AAEF,OAAO,IAAMC,0BAA0B,GAAGrE,OAAO,CAC7CH,UAAU,EACVE,UAAU,EACVD,OAAO,CAACkE,eAAe,EAAEE,kBAAkB,CAAC,CAC/C,CAACrD,4BAA4B,CAAyB"},"metadata":{},"sourceType":"module"}