{"ast":null,"code":"'use strict';\n\nvar _ = require('lodash');\nvar $ = require('../util/preconditions');\nvar inherits = require('inherits');\nvar BufferUtil = require('../util/buffer');\nvar JSUtil = require('../util/js');\nvar PublicKey = require('../publickey');\nvar errors = require('../errors');\nvar Signature = require('../crypto/signature');\n\n/**\n * @desc\n * Wrapper around Signature with fields related to signing a transaction specifically\n *\n * @param {Object|string|TransactionSignature} arg\n * @constructor\n */\nfunction TransactionSignature(arg) {\n  if (!(this instanceof TransactionSignature)) {\n    return new TransactionSignature(arg);\n  }\n  if (arg instanceof TransactionSignature) {\n    return arg;\n  }\n  if (_.isObject(arg)) {\n    return this._fromObject(arg);\n  }\n  throw new errors.InvalidArgument('TransactionSignatures must be instantiated from an object');\n}\ninherits(TransactionSignature, Signature);\nTransactionSignature.prototype._fromObject = function (arg) {\n  this._checkObjectArgs(arg);\n  this.publicKey = new PublicKey(arg.publicKey);\n  this.prevTxId = BufferUtil.isBuffer(arg.prevTxId) ? arg.prevTxId : new Buffer(arg.prevTxId, 'hex');\n  this.outputIndex = arg.outputIndex;\n  this.inputIndex = arg.inputIndex;\n  this.signature = arg.signature instanceof Signature ? arg.signature : BufferUtil.isBuffer(arg.signature) ? Signature.fromBuffer(arg.signature) : Signature.fromString(arg.signature);\n  this.sigtype = arg.sigtype;\n  return this;\n};\nTransactionSignature.prototype._checkObjectArgs = function (arg) {\n  $.checkArgument(PublicKey(arg.publicKey), 'publicKey');\n  $.checkArgument(!_.isUndefined(arg.inputIndex), 'inputIndex');\n  $.checkArgument(!_.isUndefined(arg.outputIndex), 'outputIndex');\n  $.checkState(_.isNumber(arg.inputIndex), 'inputIndex must be a number');\n  $.checkState(_.isNumber(arg.outputIndex), 'outputIndex must be a number');\n  $.checkArgument(arg.signature, 'signature');\n  $.checkArgument(arg.prevTxId, 'prevTxId');\n  $.checkState(arg.signature instanceof Signature || BufferUtil.isBuffer(arg.signature) || JSUtil.isHexa(arg.signature), 'signature must be a buffer or hexa value');\n  $.checkState(BufferUtil.isBuffer(arg.prevTxId) || JSUtil.isHexa(arg.prevTxId), 'prevTxId must be a buffer or hexa value');\n  $.checkArgument(arg.sigtype, 'sigtype');\n  $.checkState(_.isNumber(arg.sigtype), 'sigtype must be a number');\n};\n\n/**\n * Serializes a transaction to a plain JS object\n * @return {Object}\n */\nTransactionSignature.prototype.toObject = TransactionSignature.prototype.toJSON = function toObject() {\n  return {\n    publicKey: this.publicKey.toString(),\n    prevTxId: this.prevTxId.toString('hex'),\n    outputIndex: this.outputIndex,\n    inputIndex: this.inputIndex,\n    signature: this.signature.toString(),\n    sigtype: this.sigtype\n  };\n};\n\n/**\n * Builds a TransactionSignature from an object\n * @param {Object} object\n * @return {TransactionSignature}\n */\nTransactionSignature.fromObject = function (object) {\n  $.checkArgument(object);\n  return new TransactionSignature(object);\n};\nmodule.exports = TransactionSignature;","map":{"version":3,"names":["_","require","$","inherits","BufferUtil","JSUtil","PublicKey","errors","Signature","TransactionSignature","arg","isObject","_fromObject","InvalidArgument","prototype","_checkObjectArgs","publicKey","prevTxId","isBuffer","Buffer","outputIndex","inputIndex","signature","fromBuffer","fromString","sigtype","checkArgument","isUndefined","checkState","isNumber","isHexa","toObject","toJSON","toString","fromObject","object","module","exports"],"sources":["C:/Users/Elton/OneDrive/Desktop/baseapp-2024/node_modules/bitcoincashjs/src/transaction/signature.js"],"sourcesContent":["'use strict';\n\nvar _ = require('lodash');\nvar $ = require('../util/preconditions');\nvar inherits = require('inherits');\nvar BufferUtil = require('../util/buffer');\nvar JSUtil = require('../util/js');\n\nvar PublicKey = require('../publickey');\nvar errors = require('../errors');\nvar Signature = require('../crypto/signature');\n\n/**\n * @desc\n * Wrapper around Signature with fields related to signing a transaction specifically\n *\n * @param {Object|string|TransactionSignature} arg\n * @constructor\n */\nfunction TransactionSignature(arg) {\n  if (!(this instanceof TransactionSignature)) {\n    return new TransactionSignature(arg);\n  }\n  if (arg instanceof TransactionSignature) {\n    return arg;\n  }\n  if (_.isObject(arg)) {\n    return this._fromObject(arg);\n  }\n  throw new errors.InvalidArgument('TransactionSignatures must be instantiated from an object');\n}\ninherits(TransactionSignature, Signature);\n\nTransactionSignature.prototype._fromObject = function(arg) {\n  this._checkObjectArgs(arg);\n  this.publicKey = new PublicKey(arg.publicKey);\n  this.prevTxId = BufferUtil.isBuffer(arg.prevTxId) ? arg.prevTxId : new Buffer(arg.prevTxId, 'hex');\n  this.outputIndex = arg.outputIndex;\n  this.inputIndex = arg.inputIndex;\n  this.signature = (arg.signature instanceof Signature) ? arg.signature :\n                     BufferUtil.isBuffer(arg.signature) ? Signature.fromBuffer(arg.signature) :\n                     Signature.fromString(arg.signature);\n  this.sigtype = arg.sigtype;\n  return this;\n};\n\nTransactionSignature.prototype._checkObjectArgs = function(arg) {\n  $.checkArgument(PublicKey(arg.publicKey), 'publicKey');\n  $.checkArgument(!_.isUndefined(arg.inputIndex), 'inputIndex');\n  $.checkArgument(!_.isUndefined(arg.outputIndex), 'outputIndex');\n  $.checkState(_.isNumber(arg.inputIndex), 'inputIndex must be a number');\n  $.checkState(_.isNumber(arg.outputIndex), 'outputIndex must be a number');\n  $.checkArgument(arg.signature, 'signature');\n  $.checkArgument(arg.prevTxId, 'prevTxId');\n  $.checkState(arg.signature instanceof Signature ||\n               BufferUtil.isBuffer(arg.signature) ||\n               JSUtil.isHexa(arg.signature), 'signature must be a buffer or hexa value');\n  $.checkState(BufferUtil.isBuffer(arg.prevTxId) ||\n               JSUtil.isHexa(arg.prevTxId), 'prevTxId must be a buffer or hexa value');\n  $.checkArgument(arg.sigtype, 'sigtype');\n  $.checkState(_.isNumber(arg.sigtype), 'sigtype must be a number');\n};\n\n/**\n * Serializes a transaction to a plain JS object\n * @return {Object}\n */\nTransactionSignature.prototype.toObject = TransactionSignature.prototype.toJSON = function toObject() {\n  return {\n    publicKey: this.publicKey.toString(),\n    prevTxId: this.prevTxId.toString('hex'),\n    outputIndex: this.outputIndex,\n    inputIndex: this.inputIndex,\n    signature: this.signature.toString(),\n    sigtype: this.sigtype\n  };\n};\n\n/**\n * Builds a TransactionSignature from an object\n * @param {Object} object\n * @return {TransactionSignature}\n */\nTransactionSignature.fromObject = function(object) {\n  $.checkArgument(object);\n  return new TransactionSignature(object);\n};\n\nmodule.exports = TransactionSignature;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}