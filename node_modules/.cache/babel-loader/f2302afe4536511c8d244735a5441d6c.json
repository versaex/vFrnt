{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\src\\\\screens\\\\History\\\\index.tsx\";\nimport * as React from 'react';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { TabPanel } from '../../components';\nimport { HistoryElement } from '../../containers/HistoryElement';\nimport { setDocumentTitle } from '../../helpers';\nimport { fetchHistory as _fetchHistory, marketsFetch, resetHistory as _resetHistory, walletsFetch } from '../../modules';\nvar History = /*#__PURE__*/function (_React$Component) {\n  _inherits(History, _React$Component);\n  var _super = _createSuper(History);\n  function History() {\n    var _this;\n    _classCallCheck(this, History);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      tab: 'deposits',\n      currentTabIndex: 0\n    };\n    _this.tabMapping = ['deposits', 'withdraws', 'trades'];\n    _this.onCurrentTabChange = function (index) {\n      return _this.setState({\n        currentTabIndex: index\n      });\n    };\n    _this.handleMakeRequest = function (index) {\n      if (_this.state.tab === _this.tabMapping[index]) {\n        return;\n      }\n      _this.props.resetHistory();\n      _this.setState({\n        tab: _this.tabMapping[index]\n      });\n    };\n    _this.renderTabs = function () {\n      var tab = _this.state.tab;\n      return [{\n        content: tab === 'deposits' ? /*#__PURE__*/React.createElement(HistoryElement, {\n          type: \"deposits\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 47\n          }\n        }) : null,\n        label: _this.props.intl.formatMessage({\n          id: 'page.body.history.deposit'\n        })\n      }, {\n        content: tab === 'withdraws' ? /*#__PURE__*/React.createElement(HistoryElement, {\n          type: \"withdraws\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 48\n          }\n        }) : null,\n        label: _this.props.intl.formatMessage({\n          id: 'page.body.history.withdraw'\n        })\n      }, {\n        content: tab === 'trades' ? /*#__PURE__*/React.createElement(HistoryElement, {\n          type: \"trades\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 45\n          }\n        }) : null,\n        label: _this.props.intl.formatMessage({\n          id: 'page.body.history.trade'\n        })\n      }];\n    };\n    return _this;\n  }\n  _createClass(History, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      setDocumentTitle('History');\n      this.props.fetchMarkets();\n      this.props.fetchWallets();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.resetHistory();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-history-tab pg-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-history-tab__tabs-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(TabPanel, {\n        panels: this.renderTabs(),\n        onTabChange: this.handleMakeRequest,\n        currentTabIndex: this.state.currentTabIndex,\n        onCurrentTabChange: this.onCurrentTabChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n  return History;\n}(React.Component);\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchMarkets: function fetchMarkets() {\n      return dispatch(marketsFetch());\n    },\n    fetchWallets: function fetchWallets() {\n      return dispatch(walletsFetch());\n    },\n    fetchHistory: function fetchHistory(payload) {\n      return dispatch(_fetchHistory(payload));\n    },\n    resetHistory: function resetHistory() {\n      return dispatch(_resetHistory());\n    }\n  };\n};\nexport var HistoryScreen = compose(injectIntl, connect(null, mapDispatchToProps))(History);","map":{"version":3,"names":["React","injectIntl","connect","compose","TabPanel","HistoryElement","setDocumentTitle","fetchHistory","marketsFetch","resetHistory","walletsFetch","History","state","tab","currentTabIndex","tabMapping","onCurrentTabChange","index","setState","handleMakeRequest","props","renderTabs","content","label","intl","formatMessage","id","fetchMarkets","fetchWallets","Component","mapDispatchToProps","dispatch","payload","HistoryScreen"],"sources":["C:/Users/Elton/OneDrive/Desktop/baseapp-2024/src/screens/History/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n    injectIntl,\n} from 'react-intl';\nimport {\n    connect,\n    MapDispatchToPropsFunction,\n} from 'react-redux';\nimport { compose } from 'redux';\nimport { IntlProps } from '../../';\nimport { TabPanel } from '../../components';\nimport { HistoryElement } from '../../containers/HistoryElement';\nimport { setDocumentTitle } from '../../helpers';\nimport {\n    fetchHistory,\n    marketsFetch,\n    resetHistory,\n    walletsFetch,\n} from '../../modules';\n\ninterface DispatchProps {\n    resetHistory: typeof resetHistory;\n    fetchMarkets: typeof marketsFetch;\n    fetchWallets: typeof walletsFetch;\n    fetchHistory: typeof fetchHistory;\n}\n\ntype Props = DispatchProps & IntlProps;\n\ninterface State {\n    tab: string;\n    currentTabIndex: number;\n}\n\nclass History extends React.Component<Props, State> {\n    public state = {\n        tab: 'deposits',\n        currentTabIndex: 0,\n    };\n\n    public tabMapping = ['deposits', 'withdraws', 'trades'];\n\n    public componentDidMount() {\n        setDocumentTitle('History');\n        this.props.fetchMarkets();\n        this.props.fetchWallets();\n    }\n\n    public componentWillUnmount() {\n        this.props.resetHistory();\n    }\n\n    public render() {\n        return (\n            <div className=\"pg-history-tab pg-container\">\n                <div className=\"pg-history-tab__tabs-content\">\n                    <TabPanel\n                        panels={this.renderTabs()}\n                        onTabChange={this.handleMakeRequest}\n                        currentTabIndex={this.state.currentTabIndex}\n                        onCurrentTabChange={this.onCurrentTabChange}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    private onCurrentTabChange = index => this.setState({ currentTabIndex: index });\n\n    private handleMakeRequest = (index: number) => {\n        if (this.state.tab === this.tabMapping[index]) {\n            return;\n        }\n        this.props.resetHistory();\n        this.setState({ tab: this.tabMapping[index] });\n    };\n\n    private renderTabs = () => {\n        const { tab } = this.state;\n\n        return [\n            {\n                content: tab === 'deposits' ? <HistoryElement type=\"deposits\" /> : null,\n                label: this.props.intl.formatMessage({id: 'page.body.history.deposit'}),\n            },\n            {\n                content: tab === 'withdraws' ? <HistoryElement type=\"withdraws\" /> : null,\n                label: this.props.intl.formatMessage({id: 'page.body.history.withdraw'}),\n            },\n            {\n                content: tab === 'trades' ? <HistoryElement type=\"trades\" /> : null,\n                label: this.props.intl.formatMessage({id: 'page.body.history.trade'}),\n            },\n        ];\n    };\n}\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<DispatchProps, {}> = dispatch => ({\n    fetchMarkets: () => dispatch(marketsFetch()),\n    fetchWallets: () => dispatch(walletsFetch()),\n    fetchHistory: payload => dispatch(fetchHistory(payload)),\n    resetHistory: () => dispatch(resetHistory()),\n});\n\nexport const HistoryScreen = compose(\n    injectIntl,\n    connect(null, mapDispatchToProps),\n)(History) as React.ComponentClass;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}