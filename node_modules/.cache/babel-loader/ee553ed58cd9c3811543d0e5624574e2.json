{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar MS_PER_SECOND = 1e3;\nvar SECS_PER_MIN = 60;\nvar SECS_PER_HOUR = SECS_PER_MIN * 60;\nvar SECS_PER_DAY = SECS_PER_HOUR * 24;\nvar SECS_PER_WEEK = SECS_PER_DAY * 7;\nexport function selectUnit(from, to, thresholds) {\n  if (to === void 0) {\n    to = Date.now();\n  }\n  if (thresholds === void 0) {\n    thresholds = {};\n  }\n  var resolvedThresholds = __assign(__assign({}, DEFAULT_THRESHOLDS), thresholds || {});\n  var secs = (+from - +to) / MS_PER_SECOND;\n  if (Math.abs(secs) < resolvedThresholds.second) {\n    return {\n      value: Math.round(secs),\n      unit: 'second'\n    };\n  }\n  var mins = secs / SECS_PER_MIN;\n  if (Math.abs(mins) < resolvedThresholds.minute) {\n    return {\n      value: Math.round(mins),\n      unit: 'minute'\n    };\n  }\n  var hours = secs / SECS_PER_HOUR;\n  if (Math.abs(hours) < resolvedThresholds.hour) {\n    return {\n      value: Math.round(hours),\n      unit: 'hour'\n    };\n  }\n  var days = secs / SECS_PER_DAY;\n  if (Math.abs(days) < resolvedThresholds.day) {\n    return {\n      value: Math.round(days),\n      unit: 'day'\n    };\n  }\n  var fromDate = new Date(from);\n  var toDate = new Date(to);\n  var years = fromDate.getFullYear() - toDate.getFullYear();\n  if (Math.round(Math.abs(years)) > 0) {\n    return {\n      value: Math.round(years),\n      unit: 'year'\n    };\n  }\n  var months = years * 12 + fromDate.getMonth() - toDate.getMonth();\n  if (Math.round(Math.abs(months)) > 0) {\n    return {\n      value: Math.round(months),\n      unit: 'month'\n    };\n  }\n  var weeks = secs / SECS_PER_WEEK;\n  return {\n    value: Math.round(weeks),\n    unit: 'week'\n  };\n}\nexport var DEFAULT_THRESHOLDS = {\n  second: 45,\n  minute: 45,\n  hour: 22,\n  day: 5\n};","map":{"version":3,"sources":["../src/diff.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar MS_PER_SECOND = 1e3;\nvar SECS_PER_MIN = 60;\nvar SECS_PER_HOUR = SECS_PER_MIN * 60;\nvar SECS_PER_DAY = SECS_PER_HOUR * 24;\nvar SECS_PER_WEEK = SECS_PER_DAY * 7;\nexport function selectUnit(from, to, thresholds) {\n    if (to === void 0) { to = Date.now(); }\n    if (thresholds === void 0) { thresholds = {}; }\n    var resolvedThresholds = __assign(__assign({}, DEFAULT_THRESHOLDS), (thresholds || {}));\n    var secs = (+from - +to) / MS_PER_SECOND;\n    if (Math.abs(secs) < resolvedThresholds.second) {\n        return {\n            value: Math.round(secs),\n            unit: 'second',\n        };\n    }\n    var mins = secs / SECS_PER_MIN;\n    if (Math.abs(mins) < resolvedThresholds.minute) {\n        return {\n            value: Math.round(mins),\n            unit: 'minute',\n        };\n    }\n    var hours = secs / SECS_PER_HOUR;\n    if (Math.abs(hours) < resolvedThresholds.hour) {\n        return {\n            value: Math.round(hours),\n            unit: 'hour',\n        };\n    }\n    var days = secs / SECS_PER_DAY;\n    if (Math.abs(days) < resolvedThresholds.day) {\n        return {\n            value: Math.round(days),\n            unit: 'day',\n        };\n    }\n    var fromDate = new Date(from);\n    var toDate = new Date(to);\n    var years = fromDate.getFullYear() - toDate.getFullYear();\n    if (Math.round(Math.abs(years)) > 0) {\n        return {\n            value: Math.round(years),\n            unit: 'year',\n        };\n    }\n    var months = years * 12 + fromDate.getMonth() - toDate.getMonth();\n    if (Math.round(Math.abs(months)) > 0) {\n        return {\n            value: Math.round(months),\n            unit: 'month',\n        };\n    }\n    var weeks = secs / SECS_PER_WEEK;\n    return {\n        value: Math.round(weeks),\n        unit: 'week',\n    };\n}\nexport var DEFAULT_THRESHOLDS = {\n    second: 45,\n    minute: 45,\n    hour: 22,\n    day: 5,\n};\n//# sourceMappingURL=diff.js.map"]},"metadata":{},"sourceType":"module"}