{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\src\\\\containers\\\\Confirm\\\\Documents\\\\index.tsx\";\nimport cr from 'classnames';\nimport * as countries from 'i18n-iso-countries';\nimport * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport MaskInput from 'react-maskinput';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { languages } from '../../../api/config';\nimport { CustomInput, DropdownComponent, UploadFile } from '../../../components';\nimport { formatDate, isDateInFuture, randomSecureHex } from '../../../helpers';\nimport { alertPush, selectCurrentLanguage, selectMobileDeviceState, selectSendDocumentsSuccess, sendDocuments as _sendDocuments } from '../../../modules';\nvar DocumentFrontExample = require('../../../assets/images/kyc/DocumentFrontExample.svg');\nvar DocumentBackExample = require('../../../assets/images/kyc/DocumentBackExample.svg');\nvar DocumentSelfieExample = require('../../../assets/images/kyc/DocumentSelfieExample.svg');\n// tslint:disable:member-ordering\nvar DocumentsComponent = /*#__PURE__*/function (_React$Component) {\n  _inherits(DocumentsComponent, _React$Component);\n  var _super = _createSuper(DocumentsComponent);\n  function DocumentsComponent() {\n    var _this;\n    _classCallCheck(this, DocumentsComponent);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.translate = function (e) {\n      return _this.props.intl.formatMessage({\n        id: e\n      });\n    };\n    _this.data = [_this.translate('page.body.kyc.documents.select.passport'), _this.translate('page.body.kyc.documents.select.identityCard'), _this.translate('page.body.kyc.documents.select.driverLicense')];\n    _this.state = {\n      documentsType: '',\n      issuedDate: '',\n      issuedDateFocused: false,\n      expireDate: '',\n      expireDateFocused: false,\n      idNumber: '',\n      idNumberFocused: false,\n      fileFront: [],\n      fileBack: [],\n      fileSelfie: []\n    };\n    _this.handleChangeDocumentsType = function (value) {\n      _this.setState({\n        documentsType: value\n      });\n    };\n    _this.handleChangeIdNumber = function (value) {\n      _this.setState({\n        idNumber: value\n      });\n    };\n    _this.handleFieldFocus = function (field) {\n      return function () {\n        switch (field) {\n          case 'issuedDate':\n            _this.setState({\n              issuedDateFocused: !_this.state.issuedDateFocused\n            });\n            break;\n          case 'expireDate':\n            _this.setState({\n              expireDateFocused: !_this.state.expireDateFocused\n            });\n            break;\n          case 'idNumber':\n            _this.setState({\n              idNumberFocused: !_this.state.idNumberFocused\n            });\n            break;\n          default:\n            break;\n        }\n      };\n    };\n    _this.handleChangeIssuedDate = function (e) {\n      _this.setState({\n        issuedDate: formatDate(e.target.value)\n      });\n    };\n    _this.handleChangeExpiration = function (e) {\n      _this.setState({\n        expireDate: formatDate(e.target.value)\n      });\n    };\n    _this.handleUploadScan = function (uploadEvent, id) {\n      var allFiles = uploadEvent.target.files;\n      var maxDocsCount = 1;\n      var additionalFileList = Array.from(allFiles).length > maxDocsCount ? Array.from(allFiles).slice(0, maxDocsCount) : Array.from(allFiles);\n      switch (id) {\n        case 'front':\n          _this.setState({\n            fileFront: additionalFileList\n          });\n          break;\n        case 'back':\n          _this.setState({\n            fileBack: additionalFileList\n          });\n          break;\n        case 'selfie':\n          _this.setState({\n            fileSelfie: additionalFileList\n          });\n          break;\n        default:\n          break;\n      }\n    };\n    _this.handleValidateInput = function (field, value) {\n      switch (field) {\n        case 'issuedDate':\n          return !isDateInFuture(value);\n        case 'expireDate':\n          return isDateInFuture(value);\n        case 'idNumber':\n          var cityRegex = new RegExp(\"^[a-zA-Z0-9]+$\");\n          return value.match(cityRegex) ? true : false;\n        default:\n          return true;\n      }\n    };\n    _this.handleCheckButtonDisabled = function () {\n      var _this$state = _this.state,\n        documentsType = _this$state.documentsType,\n        issuedDate = _this$state.issuedDate,\n        expireDate = _this$state.expireDate,\n        fileBack = _this$state.fileBack,\n        fileFront = _this$state.fileFront,\n        fileSelfie = _this$state.fileSelfie,\n        idNumber = _this$state.idNumber;\n      var typeOfDocuments = _this.getDocumentsType(documentsType);\n      var filesValid = typeOfDocuments === 'Passport' ? fileFront.length && fileSelfie.length : fileSelfie.length && fileFront.length && fileBack.length;\n      return !_this.handleValidateInput('idNumber', idNumber) || !_this.handleValidateInput('issuedDate', issuedDate) || expireDate && !_this.handleValidateInput('expireDate', expireDate) || !filesValid;\n    };\n    _this.sendDocuments = function () {\n      var _this$state2 = _this.state,\n        documentsType = _this$state2.documentsType,\n        fileBack = _this$state2.fileBack,\n        fileFront = _this$state2.fileFront,\n        fileSelfie = _this$state2.fileSelfie;\n      var identificator = randomSecureHex(32);\n      if (_this.handleCheckButtonDisabled()) {\n        return;\n      }\n      _this.props.sendDocuments(_this.createFormData('front_side', fileFront, identificator));\n      if (documentsType !== 'Passport') {\n        _this.props.sendDocuments(_this.createFormData('back_side', fileBack, identificator));\n      }\n      _this.props.sendDocuments(_this.createFormData('selfie', fileSelfie, identificator));\n    };\n    _this.createFormData = function (docCategory, upload, identificator) {\n      var _this$state3 = _this.state,\n        documentsType = _this$state3.documentsType,\n        expireDate = _this$state3.expireDate,\n        issuedDate = _this$state3.issuedDate,\n        idNumber = _this$state3.idNumber;\n      var typeOfDocuments = _this.getDocumentsType(documentsType);\n      var request = new FormData();\n      if (expireDate) {\n        request.append('doc_expire', expireDate);\n      }\n      request.append('doc_issue', issuedDate);\n      request.append('doc_type', typeOfDocuments);\n      request.append('doc_number', idNumber);\n      request.append('identificator', identificator);\n      request.append('doc_category', docCategory);\n      request.append('upload[]', upload[0]);\n      return request;\n    };\n    _this.getDocumentsType = function (value) {\n      switch (value) {\n        case _this.data[0]:\n          return 'Passport';\n        case _this.data[1]:\n          return 'Identity card';\n        case _this.data[2]:\n          return 'Driver license';\n        default:\n          return value;\n      }\n    };\n    return _this;\n  }\n  _createClass(DocumentsComponent, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(next) {\n      if (next.success && !this.props.success) {\n        this.props.history.push('/profile');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var isMobileDevice = this.props.isMobileDevice;\n      var _this$state4 = this.state,\n        fileFront = _this$state4.fileFront,\n        fileBack = _this$state4.fileBack,\n        fileSelfie = _this$state4.fileSelfie,\n        issuedDate = _this$state4.issuedDate,\n        issuedDateFocused = _this$state4.issuedDateFocused,\n        expireDate = _this$state4.expireDate,\n        expireDateFocused = _this$state4.expireDateFocused,\n        idNumber = _this$state4.idNumber,\n        idNumberFocused = _this$state4.idNumberFocused;\n\n      /* tslint:disable */\n      languages.map(function (l) {\n        return countries.registerLocale(require(\"i18n-iso-countries/langs/\".concat(l, \".json\")));\n      });\n      /* tslint:enable */\n\n      var issuedDateFocusedClass = cr('pg-confirm__content-documents__row__content', {\n        'pg-confirm__content-documents__row__content--focused': issuedDateFocused,\n        'pg-confirm__content-documents__row__content--wrong': issuedDate && !this.handleValidateInput('issuedDate', issuedDate)\n      });\n      var expireDateFocusedClass = cr('pg-confirm__content-documents__row__content', {\n        'pg-confirm__content-documents__row__content--focused': expireDateFocused,\n        'pg-confirm__content-documents__row__content--wrong': expireDate && !this.handleValidateInput('expireDate', expireDate)\n      });\n      var idNumberFocusedClass = cr('pg-confirm__content-documents__row__content', {\n        'pg-confirm__content-documents__row__content--focused': idNumberFocused,\n        'pg-confirm__content-documents__row__content--wrong': idNumber && !this.handleValidateInput('idNumber', idNumber)\n      });\n      var onSelect = function onSelect(value) {\n        return _this2.handleChangeDocumentsType(_this2.data[value]);\n      };\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-confirm__content-documents\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-confirm__content-documents__row__content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-confirm__content-documents__row__content-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }, this.translate('page.body.kyc.documentsType')), /*#__PURE__*/React.createElement(DropdownComponent, {\n        className: \"pg-confirm__content-documents__row__content-number-dropdown\",\n        list: this.data,\n        onSelect: onSelect,\n        placeholder: this.translate('page.body.kyc.documentsType.placeholder'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-confirm__content-documents__row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"fieldset\", {\n        className: idNumberFocusedClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(CustomInput, {\n        type: \"string\",\n        label: this.translate('page.body.kyc.documents.idNumber'),\n        labelVisible: true,\n        defaultLabel: '',\n        placeholder: this.translate('page.body.kyc.documents.idNumber.placeholder'),\n        inputValue: idNumber,\n        handleChangeInput: this.handleChangeIdNumber,\n        handleFocusInput: this.handleFieldFocus('idNumber'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-confirm__content-documents__row input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"fieldset\", {\n        className: issuedDateFocusedClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"custom-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 33\n        }\n      }, this.translate('page.body.kyc.documents.issuedDate')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group input-group-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(MaskInput, {\n        maskString: \"00/00/0000\",\n        mask: \"00/00/0000\",\n        onChange: this.handleChangeIssuedDate,\n        onFocus: this.handleFieldFocus('issuedDate'),\n        onBlur: this.handleFieldFocus('issuedDate'),\n        value: issuedDate,\n        className: \"group-input\",\n        placeholder: this.translate('page.body.kyc.documents.issuedDate.placeholder'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 37\n        }\n      })))), /*#__PURE__*/React.createElement(\"fieldset\", {\n        className: expireDateFocusedClass,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"custom-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 33\n        }\n      }, this.translate('page.body.kyc.documents.expiryDate')), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group input-group-lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(MaskInput, {\n        maskString: \"00/00/0000\",\n        mask: \"00/00/0000\",\n        onChange: this.handleChangeExpiration,\n        onFocus: this.handleFieldFocus('expireDate'),\n        onBlur: this.handleFieldFocus('expireDate'),\n        value: expireDate,\n        className: \"group-input\",\n        placeholder: this.translate('page.body.kyc.documents.expiryDate.placeholder'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 37\n        }\n      }))))), this.state.documentsType ? /*#__PURE__*/React.createElement(UploadFile, {\n        isMobileDevice: isMobileDevice,\n        id: \"fileFront\",\n        title: this.translate('page.body.kyc.documents.uploadFile.front.title'),\n        label: this.translate('page.body.kyc.documents.uploadFile.front.label'),\n        buttonText: this.translate('page.body.kyc.documents.uploadFile.front.button'),\n        sizesText: this.translate('page.body.kyc.documents.uploadFile.front.sizes'),\n        formatsText: this.translate('page.body.kyc.documents.uploadFile.front.formats'),\n        handleUploadScan: function handleUploadScan(uploadEvent) {\n          return _this2.handleUploadScan(uploadEvent, 'front');\n        },\n        exampleImagePath: DocumentFrontExample,\n        uploadedFile: fileFront[0] && fileFront[0].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 25\n        }\n      }) : null, this.state.documentsType && this.state.documentsType !== 'Passport' ? /*#__PURE__*/React.createElement(UploadFile, {\n        isMobileDevice: isMobileDevice,\n        id: \"fileBack\",\n        title: this.translate('page.body.kyc.documents.uploadFile.back.title'),\n        label: this.translate('page.body.kyc.documents.uploadFile.back.label'),\n        buttonText: this.translate('page.body.kyc.documents.uploadFile.back.button'),\n        sizesText: this.translate('page.body.kyc.documents.uploadFile.back.sizes'),\n        formatsText: this.translate('page.body.kyc.documents.uploadFile.back.formats'),\n        handleUploadScan: function handleUploadScan(uploadEvent) {\n          return _this2.handleUploadScan(uploadEvent, 'back');\n        },\n        exampleImagePath: DocumentBackExample,\n        uploadedFile: fileBack[0] && fileBack[0].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }\n      }) : null, this.state.documentsType ? /*#__PURE__*/React.createElement(UploadFile, {\n        isMobileDevice: isMobileDevice,\n        id: \"fileSelfie\",\n        title: this.translate('page.body.kyc.documents.uploadFile.selfie.title'),\n        label: this.translate('page.body.kyc.documents.uploadFile.selfie.label'),\n        buttonText: this.translate('page.body.kyc.documents.uploadFile.selfie.button'),\n        sizesText: this.translate('page.body.kyc.documents.uploadFile.selfie.sizes'),\n        formatsText: this.translate('page.body.kyc.documents.uploadFile.selfie.formats'),\n        handleUploadScan: function handleUploadScan(uploadEvent) {\n          return _this2.handleUploadScan(uploadEvent, 'selfie');\n        },\n        exampleImagePath: DocumentSelfieExample,\n        uploadedFile: fileSelfie[0] && fileSelfie[0].name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 25\n        }\n      }) : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pg-confirm__content-deep\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.sendDocuments,\n        disabled: this.handleCheckButtonDisabled(),\n        size: \"lg\",\n        variant: \"primary\",\n        type: \"button\",\n        block: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 25\n        }\n      }, this.translate('page.body.kyc.submit')))));\n    }\n  }]);\n  return DocumentsComponent;\n}(React.Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    lang: selectCurrentLanguage(state),\n    success: selectSendDocumentsSuccess(state),\n    isMobileDevice: selectMobileDeviceState(state)\n  };\n};\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchAlert: function fetchAlert(payload) {\n      return dispatch(alertPush(payload));\n    },\n    sendDocuments: function sendDocuments(payload) {\n      return dispatch(_sendDocuments(payload));\n    }\n  };\n};\nexport var Documents = compose(injectIntl, withRouter, connect(mapStateToProps, mapDispatchToProps))(DocumentsComponent); // tslint:disable-line","map":{"version":3,"names":["cr","countries","React","Button","injectIntl","MaskInput","connect","withRouter","compose","languages","CustomInput","DropdownComponent","UploadFile","formatDate","isDateInFuture","randomSecureHex","alertPush","selectCurrentLanguage","selectMobileDeviceState","selectSendDocumentsSuccess","sendDocuments","DocumentFrontExample","require","DocumentBackExample","DocumentSelfieExample","DocumentsComponent","translate","e","props","intl","formatMessage","id","data","state","documentsType","issuedDate","issuedDateFocused","expireDate","expireDateFocused","idNumber","idNumberFocused","fileFront","fileBack","fileSelfie","handleChangeDocumentsType","value","setState","handleChangeIdNumber","handleFieldFocus","field","handleChangeIssuedDate","target","handleChangeExpiration","handleUploadScan","uploadEvent","allFiles","files","maxDocsCount","additionalFileList","Array","from","length","slice","handleValidateInput","cityRegex","RegExp","match","handleCheckButtonDisabled","typeOfDocuments","getDocumentsType","filesValid","identificator","createFormData","docCategory","upload","request","FormData","append","next","success","history","push","isMobileDevice","map","l","registerLocale","issuedDateFocusedClass","expireDateFocusedClass","idNumberFocusedClass","onSelect","name","Component","mapStateToProps","lang","mapDispatchToProps","dispatch","fetchAlert","payload","Documents"],"sources":["C:/Users/Elton/OneDrive/Desktop/baseapp-2024/src/containers/Confirm/Documents/index.tsx"],"sourcesContent":["import cr from 'classnames';\nimport * as countries from 'i18n-iso-countries';\nimport * as React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { injectIntl } from 'react-intl';\nimport MaskInput from 'react-maskinput';\nimport { connect, MapDispatchToPropsFunction } from 'react-redux';\nimport { RouterProps } from 'react-router';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport { IntlProps } from '../../../';\nimport { languages } from '../../../api/config';\nimport { CustomInput, DropdownComponent, UploadFile } from '../../../components';\nimport { formatDate, isDateInFuture, randomSecureHex } from '../../../helpers';\nimport {\n    alertPush,\n    RootState,\n    selectCurrentLanguage,\n    selectMobileDeviceState,\n    selectSendDocumentsSuccess,\n    sendDocuments,\n} from '../../../modules';\n\nconst DocumentFrontExample = require('../../../assets/images/kyc/DocumentFrontExample.svg');\nconst DocumentBackExample = require('../../../assets/images/kyc/DocumentBackExample.svg');\nconst DocumentSelfieExample = require('../../../assets/images/kyc/DocumentSelfieExample.svg');\n\ninterface ReduxProps {\n    lang: string;\n    success?: string;\n    isMobileDevice: boolean;\n}\n\ninterface DispatchProps {\n    sendDocuments: typeof sendDocuments;\n    fetchAlert: typeof alertPush;\n}\n\ninterface OnChangeEvent {\n    target: {\n        value: string;\n    };\n}\n\ninterface DocumentsState {\n    documentsType: string;\n    issuedDate: string;\n    issuedDateFocused: boolean;\n    expireDate: string;\n    expireDateFocused: boolean;\n    idNumber: string;\n    idNumberFocused: boolean;\n    fileFront: File[];\n    fileBack: File[];\n    fileSelfie: File[];\n}\n\ntype Props = ReduxProps & DispatchProps & RouterProps & IntlProps;\n\n// tslint:disable:member-ordering\nclass DocumentsComponent extends React.Component<Props, DocumentsState> {\n    public translate = (e: string) => {\n        return this.props.intl.formatMessage({id: e});\n    };\n\n    public data = [\n        this.translate('page.body.kyc.documents.select.passport'),\n        this.translate('page.body.kyc.documents.select.identityCard'),\n        this.translate('page.body.kyc.documents.select.driverLicense'),\n    ];\n\n    public state = {\n        documentsType: '',\n        issuedDate: '',\n        issuedDateFocused: false,\n        expireDate: '',\n        expireDateFocused: false,\n        idNumber: '',\n        idNumberFocused: false,\n        fileFront: [],\n        fileBack: [],\n        fileSelfie: [],\n    };\n\n    public UNSAFE_componentWillReceiveProps(next: Props) {\n        if (next.success && !this.props.success) {\n            this.props.history.push('/profile');\n        }\n    }\n\n    public render() {\n        const { isMobileDevice } = this.props;\n        const {\n            fileFront,\n            fileBack,\n            fileSelfie,\n            issuedDate,\n            issuedDateFocused,\n            expireDate,\n            expireDateFocused,\n            idNumber,\n            idNumberFocused,\n        }: DocumentsState = this.state;\n\n        /* tslint:disable */\n        languages.map((l: string) => countries.registerLocale(require(`i18n-iso-countries/langs/${l}.json`)));\n        /* tslint:enable */\n\n        const issuedDateFocusedClass = cr('pg-confirm__content-documents__row__content', {\n            'pg-confirm__content-documents__row__content--focused': issuedDateFocused,\n            'pg-confirm__content-documents__row__content--wrong': issuedDate && !this.handleValidateInput('issuedDate', issuedDate),\n        });\n\n        const expireDateFocusedClass = cr('pg-confirm__content-documents__row__content', {\n            'pg-confirm__content-documents__row__content--focused': expireDateFocused,\n            'pg-confirm__content-documents__row__content--wrong': expireDate && !this.handleValidateInput('expireDate', expireDate),\n        });\n\n        const idNumberFocusedClass = cr('pg-confirm__content-documents__row__content', {\n            'pg-confirm__content-documents__row__content--focused': idNumberFocused,\n            'pg-confirm__content-documents__row__content--wrong': idNumber && !this.handleValidateInput('idNumber', idNumber),\n        });\n\n        const onSelect = value => this.handleChangeDocumentsType(this.data[value]);\n\n        return (\n            <React.Fragment>\n                <div className=\"pg-confirm__content-documents\">\n                    <div className=\"pg-confirm__content-documents__row__content\">\n                        <div className=\"pg-confirm__content-documents__row__content-label\">\n                            {this.translate('page.body.kyc.documentsType')}\n                        </div>\n                        <DropdownComponent\n                            className=\"pg-confirm__content-documents__row__content-number-dropdown\"\n                            list={this.data}\n                            onSelect={onSelect}\n                            placeholder={this.translate('page.body.kyc.documentsType.placeholder')}\n                        />\n                    </div>\n                    <div className=\"pg-confirm__content-documents__row\">\n                        <fieldset className={idNumberFocusedClass}>\n                            <CustomInput\n                                type=\"string\"\n                                label={this.translate('page.body.kyc.documents.idNumber')}\n                                labelVisible={true}\n                                defaultLabel={''}\n                                placeholder={this.translate('page.body.kyc.documents.idNumber.placeholder')}\n                                inputValue={idNumber}\n                                handleChangeInput={this.handleChangeIdNumber}\n                                handleFocusInput={this.handleFieldFocus('idNumber')}\n                            />\n                        </fieldset>\n                    </div>\n                    <div className=\"pg-confirm__content-documents__row input-group\">\n                        <fieldset className={issuedDateFocusedClass}>\n                            <div className=\"custom-input\">\n                                <label>{this.translate('page.body.kyc.documents.issuedDate')}</label>\n                                <div className=\"input-group input-group-lg\">\n                                    <MaskInput\n                                        maskString=\"00/00/0000\"\n                                        mask=\"00/00/0000\"\n                                        onChange={this.handleChangeIssuedDate}\n                                        onFocus={this.handleFieldFocus('issuedDate')}\n                                        onBlur={this.handleFieldFocus('issuedDate')}\n                                        value={issuedDate}\n                                        className=\"group-input\"\n                                        placeholder={this.translate('page.body.kyc.documents.issuedDate.placeholder')}\n                                    />\n                                </div>\n                            </div>\n                        </fieldset>\n                        <fieldset className={expireDateFocusedClass}>\n                            <div className=\"custom-input\">\n                                <label>{this.translate('page.body.kyc.documents.expiryDate')}</label>\n                                <div className=\"input-group input-group-lg\">\n                                    <MaskInput\n                                        maskString=\"00/00/0000\"\n                                        mask=\"00/00/0000\"\n                                        onChange={this.handleChangeExpiration}\n                                        onFocus={this.handleFieldFocus('expireDate')}\n                                        onBlur={this.handleFieldFocus('expireDate')}\n                                        value={expireDate}\n                                        className=\"group-input\"\n                                        placeholder={this.translate('page.body.kyc.documents.expiryDate.placeholder')}\n                                    />\n                                </div>\n                            </div>\n                        </fieldset>\n                    </div>\n                    {this.state.documentsType  ? (\n                        <UploadFile\n                            isMobileDevice={isMobileDevice}\n                            id=\"fileFront\"\n                            title={this.translate('page.body.kyc.documents.uploadFile.front.title')}\n                            label={this.translate('page.body.kyc.documents.uploadFile.front.label')}\n                            buttonText={this.translate('page.body.kyc.documents.uploadFile.front.button')}\n                            sizesText={this.translate('page.body.kyc.documents.uploadFile.front.sizes')}\n                            formatsText={this.translate('page.body.kyc.documents.uploadFile.front.formats')}\n                            handleUploadScan={uploadEvent => this.handleUploadScan(uploadEvent, 'front')}\n                            exampleImagePath={DocumentFrontExample}\n                            uploadedFile={fileFront[0] && (fileFront[0] as File).name}\n                        />\n                    ) : null}\n                    {this.state.documentsType && this.state.documentsType !== 'Passport' ? (\n                        <UploadFile\n                            isMobileDevice={isMobileDevice}\n                            id=\"fileBack\"\n                            title={this.translate('page.body.kyc.documents.uploadFile.back.title')}\n                            label={this.translate('page.body.kyc.documents.uploadFile.back.label')}\n                            buttonText={this.translate('page.body.kyc.documents.uploadFile.back.button')}\n                            sizesText={this.translate('page.body.kyc.documents.uploadFile.back.sizes')}\n                            formatsText={this.translate('page.body.kyc.documents.uploadFile.back.formats')}\n                            handleUploadScan={uploadEvent => this.handleUploadScan(uploadEvent, 'back')}\n                            exampleImagePath={DocumentBackExample}\n                            uploadedFile={fileBack[0] && (fileBack[0] as File).name}\n                        />\n                    ) : null}\n                    {this.state.documentsType  ? (\n                        <UploadFile\n                            isMobileDevice={isMobileDevice}\n                            id=\"fileSelfie\"\n                            title={this.translate('page.body.kyc.documents.uploadFile.selfie.title')}\n                            label={this.translate('page.body.kyc.documents.uploadFile.selfie.label')}\n                            buttonText={this.translate('page.body.kyc.documents.uploadFile.selfie.button')}\n                            sizesText={this.translate('page.body.kyc.documents.uploadFile.selfie.sizes')}\n                            formatsText={this.translate('page.body.kyc.documents.uploadFile.selfie.formats')}\n                            handleUploadScan={uploadEvent => this.handleUploadScan(uploadEvent, 'selfie')}\n                            exampleImagePath={DocumentSelfieExample}\n                            uploadedFile={fileSelfie[0] && (fileSelfie[0] as File).name}\n                        />\n                    ) : null}\n                    <div className=\"pg-confirm__content-deep\">\n                        <Button\n                            onClick={this.sendDocuments}\n                            disabled={this.handleCheckButtonDisabled()}\n                            size=\"lg\"\n                            variant=\"primary\"\n                            type=\"button\"\n                            block={true}\n                        >\n                            {this.translate('page.body.kyc.submit')}\n                        </Button>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    private handleChangeDocumentsType = (value: string) => {\n        this.setState({\n            documentsType: value,\n        });\n    };\n\n    private handleChangeIdNumber = (value: string) => {\n        this.setState({\n            idNumber: value,\n        });\n    };\n\n    private handleFieldFocus = (field: string) => {\n        return () => {\n            switch (field) {\n                case 'issuedDate':\n                    this.setState({\n                        issuedDateFocused: !this.state.issuedDateFocused,\n                    });\n                    break;\n                case 'expireDate':\n                    this.setState({\n                        expireDateFocused: !this.state.expireDateFocused,\n                    });\n                    break;\n                case 'idNumber':\n                    this.setState({\n                        idNumberFocused: !this.state.idNumberFocused,\n                    });\n                    break;\n                default:\n                    break;\n            }\n        };\n    };\n\n    private handleChangeIssuedDate = (e: OnChangeEvent) => {\n        this.setState({\n            issuedDate: formatDate(e.target.value),\n        });\n    };\n\n    private handleChangeExpiration = (e: OnChangeEvent) => {\n        this.setState({\n            expireDate: formatDate(e.target.value),\n        });\n    };\n\n    private handleUploadScan = (uploadEvent, id) => {\n        const allFiles: File[] = uploadEvent.target.files;\n        const maxDocsCount = 1;\n        const additionalFileList = Array.from(allFiles).length > maxDocsCount ?  Array.from(allFiles).slice(0, maxDocsCount) : Array.from(allFiles);\n\n        switch (id) {\n            case 'front':\n                this.setState({ fileFront: additionalFileList });\n                break;\n            case 'back':\n                this.setState({ fileBack: additionalFileList});\n                break;\n            case 'selfie':\n                this.setState({ fileSelfie: additionalFileList });\n                break;\n            default:\n                break;\n        }\n    };\n\n    private handleValidateInput = (field: string, value: string): boolean => {\n        switch (field) {\n            case 'issuedDate':\n                return !isDateInFuture(value);\n            case 'expireDate':\n                return isDateInFuture(value);\n            case 'idNumber':\n                const cityRegex = new RegExp(`^[a-zA-Z0-9]+$`);\n\n                return value.match(cityRegex) ? true : false;\n            default:\n                return true;\n        }\n    };\n\n    private handleCheckButtonDisabled = () => {\n        const {\n            documentsType,\n            issuedDate,\n            expireDate,\n            fileBack,\n            fileFront,\n            fileSelfie,\n            idNumber,\n        } = this.state;\n\n        const typeOfDocuments = this.getDocumentsType(documentsType);\n        const filesValid = (typeOfDocuments === 'Passport') ? (\n            fileFront.length &&\n            fileSelfie.length\n        ) : (\n            fileSelfie.length &&\n            fileFront.length &&\n            fileBack.length\n        );\n\n        return (\n            !this.handleValidateInput('idNumber', idNumber) ||\n            !this.handleValidateInput('issuedDate', issuedDate) ||\n            (expireDate && !this.handleValidateInput('expireDate', expireDate)) ||\n            !filesValid\n        );\n    };\n\n    private sendDocuments = () => {\n        const {\n            documentsType,\n            fileBack,\n            fileFront,\n            fileSelfie,\n        } = this.state;\n        const identificator = randomSecureHex(32);\n\n        if (this.handleCheckButtonDisabled()) {\n            return;\n        }\n\n        this.props.sendDocuments(this.createFormData('front_side', fileFront, identificator));\n\n        if (documentsType !== 'Passport') {\n            this.props.sendDocuments(this.createFormData('back_side', fileBack, identificator));\n        }\n\n        this.props.sendDocuments(this.createFormData('selfie', fileSelfie, identificator));\n    };\n\n    private createFormData = (docCategory: string, upload: File[], identificator: string) => {\n        const {\n            documentsType,\n            expireDate,\n            issuedDate,\n            idNumber,\n        }: DocumentsState = this.state;\n        const typeOfDocuments = this.getDocumentsType(documentsType);\n\n        const request = new FormData();\n\n        if (expireDate) {\n            request.append('doc_expire', expireDate);\n        }\n\n        request.append('doc_issue', issuedDate);\n        request.append('doc_type', typeOfDocuments);\n        request.append('doc_number', idNumber);\n        request.append('identificator', identificator);\n        request.append('doc_category', docCategory);\n        request.append('upload[]', upload[0]);\n\n        return request;\n    };\n\n    private getDocumentsType = (value: string) => {\n        switch (value) {\n           case this.data[0]: return 'Passport';\n           case this.data[1]: return 'Identity card';\n           case this.data[2]: return 'Driver license';\n           default: return value;\n        }\n    };\n}\n\nconst mapStateToProps = (state: RootState): ReduxProps => ({\n    lang: selectCurrentLanguage(state),\n    success: selectSendDocumentsSuccess(state),\n    isMobileDevice: selectMobileDeviceState(state),\n});\n\nconst mapDispatchToProps: MapDispatchToPropsFunction<DispatchProps, {}> =\n    dispatch => ({\n        fetchAlert: payload => dispatch(alertPush(payload)),\n        sendDocuments: payload => dispatch(sendDocuments(payload)),\n    });\n\nexport const Documents = compose(\n    injectIntl,\n    withRouter,\n    connect(mapStateToProps, mapDispatchToProps),\n)(DocumentsComponent) as any; // tslint:disable-line\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}