{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\Elton\\\\OneDrive\\\\Desktop\\\\baseapp-2024\\\\src\\\\mobile\\\\screens\\\\ProfileAuth\\\\index.tsx\";\nimport * as React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { ProfileTwoFactorAuth } from '../../../containers/ProfileTwoFactorAuth';\nimport { selectUserInfo, toggle2faFetch } from '../../../modules/user/profile';\nimport { ProfileTwoFactorAuthScreen } from '../../../screens/ProfileTwoFactorAuthScreen';\nimport { TwoFactorModal } from '../../components';\nimport { Subheader } from '../../components/Subheader';\nexport var ProfileAuthMobileScreen = React.memo(function () {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    showModal = _React$useState2[0],\n    setShowModal = _React$useState2[1];\n  var dispatch = useDispatch();\n  var history = useHistory();\n  var intl = useIntl();\n  var user = useSelector(selectUserInfo);\n  var handleToggle2FA = function handleToggle2FA(code2FA, shouldFetch) {\n    if (shouldFetch) {\n      dispatch(toggle2faFetch({\n        code: code2FA,\n        enable: false\n      }));\n      history.push('/profile');\n    }\n    setShowModal(false);\n  };\n  var handleNavigateTo2fa = React.useCallback(function (enable2fa) {\n    if (!enable2fa) {\n      setShowModal(function (state) {\n        return !state;\n      });\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Subheader, {\n    title: intl.formatMessage({\n      id: 'page.profile.kyc.title'\n    }),\n    backTitle: intl.formatMessage({\n      id: 'page.body.profile.header.account'\n    }),\n    onGoBack: function onGoBack() {\n      return history.push('/profile');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cr-mobile-profile-auth\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cr-mobile-profile-auth__enable\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cr-mobile-profile-auth__enable-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ProfileTwoFactorAuth, {\n    is2faEnabled: user.otp,\n    navigateTo2fa: handleNavigateTo2fa,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  })), !user.otp ? /*#__PURE__*/React.createElement(ProfileTwoFactorAuthScreen, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 34\n    }\n  }) : null), /*#__PURE__*/React.createElement(TwoFactorModal, {\n    showModal: showModal,\n    handleToggle2FA: handleToggle2FA,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  })));\n});","map":{"version":3,"names":["React","useIntl","useDispatch","useSelector","useHistory","ProfileTwoFactorAuth","selectUserInfo","toggle2faFetch","ProfileTwoFactorAuthScreen","TwoFactorModal","Subheader","ProfileAuthMobileScreen","memo","useState","showModal","setShowModal","dispatch","history","intl","user","handleToggle2FA","code2FA","shouldFetch","code","enable","push","handleNavigateTo2fa","useCallback","enable2fa","state","formatMessage","id","otp"],"sources":["C:/Users/Elton/OneDrive/Desktop/baseapp-2024/src/mobile/screens/ProfileAuth/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { ProfileTwoFactorAuth } from '../../../containers/ProfileTwoFactorAuth';\nimport { selectUserInfo, toggle2faFetch } from '../../../modules/user/profile';\nimport { ProfileTwoFactorAuthScreen } from '../../../screens/ProfileTwoFactorAuthScreen';\nimport { TwoFactorModal } from '../../components';\nimport { Subheader } from '../../components/Subheader';\n\nexport const ProfileAuthMobileScreen: React.FC = React.memo(() => {\n    const [showModal, setShowModal] = React.useState(false);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const intl = useIntl();\n    const user = useSelector(selectUserInfo);\n\n    const handleToggle2FA = (code2FA, shouldFetch) => {\n        if (shouldFetch) {\n            dispatch(toggle2faFetch({\n                code: code2FA,\n                enable: false,\n            }));\n            history.push('/profile');\n        }\n        setShowModal(false);\n    };\n\n    const handleNavigateTo2fa = React.useCallback((enable2fa: boolean) => {\n        if (!enable2fa) {\n            setShowModal(state => !state);\n        }\n    }, []);\n\n    return (\n        <React.Fragment>\n            <Subheader\n                title={intl.formatMessage({ id: 'page.profile.kyc.title' })}\n                backTitle={intl.formatMessage({ id: 'page.body.profile.header.account' })}\n                onGoBack={() => history.push('/profile')}\n            />\n            <div className=\"cr-mobile-profile-auth\">\n                <div className=\"cr-mobile-profile-auth__enable\">\n                    <div className=\"cr-mobile-profile-auth__enable-label\">\n                        <ProfileTwoFactorAuth\n                            is2faEnabled={user.otp}\n                            navigateTo2fa={handleNavigateTo2fa}\n                        />\n                    </div>\n                    {!user.otp ? <ProfileTwoFactorAuthScreen/> : null}\n                </div>\n                <TwoFactorModal\n                    showModal={showModal}\n                    handleToggle2FA={handleToggle2FA}\n                />\n            </div>\n        </React.Fragment>\n    );\n});\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,oBAAoB,QAAQ,0CAA0C;AAC/E,SAASC,cAAc,EAAEC,cAAc,QAAQ,+BAA+B;AAC9E,SAASC,0BAA0B,QAAQ,6CAA6C;AACxF,SAASC,cAAc,QAAQ,kBAAkB;AACjD,SAASC,SAAS,QAAQ,4BAA4B;AAEtD,OAAO,IAAMC,uBAAiC,GAAGX,KAAK,CAACY,IAAI,CAAC,YAAM;EAC9D,sBAAkCZ,KAAK,CAACa,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAhDC,SAAS;IAAEC,YAAY;EAC9B,IAAMC,QAAQ,GAAGd,WAAW,EAAE;EAC9B,IAAMe,OAAO,GAAGb,UAAU,EAAE;EAC5B,IAAMc,IAAI,GAAGjB,OAAO,EAAE;EACtB,IAAMkB,IAAI,GAAGhB,WAAW,CAACG,cAAc,CAAC;EAExC,IAAMc,eAAe,GAAG,SAAlBA,eAAe,CAAIC,OAAO,EAAEC,WAAW,EAAK;IAC9C,IAAIA,WAAW,EAAE;MACbN,QAAQ,CAACT,cAAc,CAAC;QACpBgB,IAAI,EAAEF,OAAO;QACbG,MAAM,EAAE;MACZ,CAAC,CAAC,CAAC;MACHP,OAAO,CAACQ,IAAI,CAAC,UAAU,CAAC;IAC5B;IACAV,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,IAAMW,mBAAmB,GAAG1B,KAAK,CAAC2B,WAAW,CAAC,UAACC,SAAkB,EAAK;IAClE,IAAI,CAACA,SAAS,EAAE;MACZb,YAAY,CAAC,UAAAc,KAAK;QAAA,OAAI,CAACA,KAAK;MAAA,EAAC;IACjC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI,oBAAC,KAAK,CAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACX,oBAAC,SAAS;IACN,KAAK,EAAEX,IAAI,CAACY,aAAa,CAAC;MAAEC,EAAE,EAAE;IAAyB,CAAC,CAAE;IAC5D,SAAS,EAAEb,IAAI,CAACY,aAAa,CAAC;MAAEC,EAAE,EAAE;IAAmC,CAAC,CAAE;IAC1E,QAAQ,EAAE;MAAA,OAAMd,OAAO,CAACQ,IAAI,CAAC,UAAU,CAAC;IAAA,CAAC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAC3C,eACF;IAAK,SAAS,EAAC,wBAAwB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACnC;IAAK,SAAS,EAAC,gCAAgC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC3C;IAAK,SAAS,EAAC,sCAAsC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACjD,oBAAC,oBAAoB;IACjB,YAAY,EAAEN,IAAI,CAACa,GAAI;IACvB,aAAa,EAAEN,mBAAoB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACrC,CACA,EACL,CAACP,IAAI,CAACa,GAAG,gBAAG,oBAAC,0BAA0B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAE,GAAG,IAAI,CAC/C,eACN,oBAAC,cAAc;IACX,SAAS,EAAElB,SAAU;IACrB,eAAe,EAAEM,eAAgB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACnC,CACA,CACO;AAEzB,CAAC,CAAC"},"metadata":{},"sourceType":"module"}